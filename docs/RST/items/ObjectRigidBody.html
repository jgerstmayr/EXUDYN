<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ObjectRigidBody &mdash; Exudyn1.7.69.dev1 1.7.69.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/rtd_sphinx_search.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=e11081fd" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=280392df"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../_static/js/rtd_search_config.js"></script>
        <script src="../../../_static/js/rtd_sphinx_search.min.js"></script>
        <script>window.MathJax = {"loader": {"load": ["[tex]/mathtools"]}, "tex": {"packages": {"[+]": ["mathtools"]}, "macros": {"vspace": ["{}", 1], "ra": "{\\rightarrow}", "Rcal": "{\\mathbb{R}}", "Ccal": "{\\mathbb{C}}", "Ncal": "{\\mathbb{N}}", "Rot": "{\\mathbf{A}}", "dd": "{\\mathrm{d}}", "co": "{\\mathrm{c}}", "si": "{\\mathrm{s}}", "tp": "{^\\mathrm{T}}", "diag": "{\\mathrm{diag}}", "vec": "{\\mathrm{vec}}", "Null": "{\\mathbf{0}}", "varepsilonDot": "{\\boldsymbol{\\varepsilon}}", "talpha": "{\\boldsymbol{\\alpha}}", "tbeta": "{\\boldsymbol{\\beta}}", "tgamma": "{\\boldsymbol{\\gamma}}", "tchi": "{\\boldsymbol{\\chi}}", "tdelta": "{\\boldsymbol{\\delta}}", "teps": "{\\boldsymbol{\\varepsilon}}", "tepsDot": "{\\boldsymbol{\\dot \\varepsilon}}", "teta": "{\\boldsymbol{\\eta}}", "tkappa": "{\\boldsymbol{\\kappa}}", "tkappaDot": "{\\boldsymbol{\\dot \\kappa}}", "tphi": "{\\boldsymbol{\\phi}}", "tPhi": "{\\boldsymbol{\\Phi}}", "ttheta": "{\\boldsymbol{\\theta}}", "tTheta": "{\\boldsymbol{\\Theta}}", "tlambda": "{\\boldsymbol{\\lambda}}", "tnu": "{\\boldsymbol{\\nu}}", "tmu": "{\\boldsymbol{\\mu}}", "tpsi": "{\\boldsymbol{\\psi}}", "tPsi": "{\\boldsymbol{\\Psi}}", "ttau": "{\\boldsymbol{\\tau}}", "tsigma": "{\\boldsymbol{\\sigma}}", "txi": "{\\boldsymbol{\\xi}}", "tzeta": "{\\boldsymbol{\\zeta}}", "tomega": "{\\boldsymbol{\\omega}}", "tOmega": "{\\boldsymbol{\\Omega}}", "vareps": "{\\varepsilon}", "pluseq": "\\mathrel{+}=", "LU": ["{\\prescript{#1}{}{#2}\\,}", 2], "LUX": ["{\\prescript{#1}{}{#2}#3\\,}", 3], "LUR": ["{\\prescript{#1}{}{#2}_{#3}\\,}", 3], "LURU": ["{\\prescript{#1}{}{#2}_{#3}^{#4}\\,}", 4], "LLdot": ["{\\prescript{}{#1}{\\dot{#2}}_{#3}\\,}", 3], "vr": ["{\\left[ \\begin{array}{c} { #1}\\vspace{0.04cm} \\\\ { #2}\\vspace{0.04cm} \\\\ { #3} \\end{array} \\right]}", 3], "mr": ["{\\left[ \\begin{array}{ccc} #1 & #2 & #3 \\vspace{0.04cm}\\\\ #4 & #5 & #6 \\vspace{0.04cm}\\\\ #7 & #8 & #9  \\end{array} \\right]}", 9], "vp": ["{\\left[ \\begin{array}{c} { #1} \\vspace{0.04cm}\\\\ { #2} \\end{array} \\right]}", 2], "mp": ["{\\left[ \\begin{array}{cc} #1 & #2 \\vspace{0.04cm}\\\\ #3 & #4 \\end{array} \\right]}", 4], "vrRow": ["{[#1,\\, #2,\\, #3]}", 3], "vsix": ["{\\left[\\!\\! \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} \\!\\!\\right]}", 6], "vsixb": ["{\\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "vsixs": ["{ \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "SO": "{q}", "FO": "{y}", "AE": "{\\lambda}", "SYS": "{s}", "SON": "{$2^\\mathrm{nd}$ order differential equations}", "FON": "{$1^\\mathrm{st}$ order differential equations}", "AEN": "{algebraic equations}", "SYSN": "{system equations}", "cIni": "{_\\mathrm{ini}}", "cRef": "{_\\mathrm{ref}}", "cCur": "{_\\mathrm{cur}}", "cVis": "{_\\mathrm{vis}}", "cSOS": "{_\\mathrm{start\\;of\\;step}}", "cConfig": "{_\\mathrm{config}}", "pLoc": "{\\mathbf{b}}", "pLocB": "{\\,^{b}{\\mathbf{v}}}", "pRef": "{\\mathbf{r}}", "pRefG": "{\\,^{0}{\\mathbf{r}}}", "indf": "{_\\mathrm{f}}", "indt": "{_\\mathrm{t}}", "indr": "{_\\mathrm{r}}", "indtt": "{_\\mathrm{tt}}", "indrr": "{_\\mathrm{rr}}", "indff": "{_\\mathrm{ff}}", "indtf": "{_\\mathrm{tf}}", "indrf": "{_\\mathrm{rf}}", "indtr": "{_\\mathrm{tr}}", "omegaBDtilde": "{\\LU{b}{\\tilde \\tomega_\\mathrm{bd}}}", "indrigid": "{_\\mathrm{rigid}}", "indred": "{_\\mathrm{red}}", "induser": "{_\\mathrm{user}}", "indu": "{_\\mathrm{u}}", "termA": ["{\\color{blue}{#1}}", 1], "termB": ["{\\color{red}{#1}}", 1], "termC": ["{\\color{green}{#1}}", 1], "avu": "{\\ddot \\mathbf{q}}", "GA": "{G\\alpha}", "aalg": "{\\mathbf{a}}", "vel": "{\\mathbf{v}}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ObjectRigidBody2D" href="ObjectRigidBody2D.html" />
    <link rel="prev" title="ObjectRotationalMass1D" href="ObjectRotationalMass1D.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Exudyn1.7.69.dev1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Exudyn User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Exudyn.html">Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../InstallationAndGettingStartedIndex.html">Installation and Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OverviewOnExudynIndex.html">Overview on Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TutorialIndex.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GraphicsAndVisualizationIndex.html">Graphics and visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NotationIndex.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TheoryAndFormulationsIndex.html">Theory and formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SolversIndex.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cInterface/CInterfaceIndex.html">Python-C++ command interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pythonUtilities/index.html">Python Utility Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="itemsIndex.html">Items reference manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nodeIndex.html">Node</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="objectBodyIndex.html">Object (Body)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ObjectGround.html">ObjectGround</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectMassPoint.html">ObjectMassPoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectMassPoint2D.html">ObjectMassPoint2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectMass1D.html">ObjectMass1D</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectRotationalMass1D.html">ObjectRotationalMass1D</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ObjectRigidBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectRigidBody2D.html">ObjectRigidBody2D</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="objectSuperElementIndex.html">Object (SuperElement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectObjectIndex.html">Object (Object)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectFiniteElementIndex.html">Object (FiniteElement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectConnectorIndex.html">Object (Connector)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectConstraintIndex.html">Object (Constraint)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectJointIndex.html">Object (Joint)</a></li>
<li class="toctree-l2"><a class="reference internal" href="markerIndex.html">Marker</a></li>
<li class="toctree-l2"><a class="reference internal" href="loadIndex.html">Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensorIndex.html">Sensor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structures/StructuresAndSettingsIndex.html">Structures and Settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Abbreviations.html">List of Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExamplesIndex.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TestModelsIndex.html">TestModels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trackerlog.html">Issue tracker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Exudyn1.7.69.dev1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="itemsIndex.html">Items reference manual</a></li>
          <li class="breadcrumb-item"><a href="objectBodyIndex.html">Object (Body)</a></li>
      <li class="breadcrumb-item active">ObjectRigidBody</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/RST/items/ObjectRigidBody.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="objectrigidbody">
<span id="sec-item-objectrigidbody"></span><h1>ObjectRigidBody<a class="headerlink" href="#objectrigidbody" title="Link to this heading"></a></h1>
<p>A 3D rigid body which is attached to a 3D rigid body node. The rotation parametrization of the rigid body follows the rotation parametrization of the node. Use Euler parameters in the general case (no singularities) in combination with implicit solvers (GeneralizedAlpha or TrapezoidalIndex2), Tait-Bryan angles for special cases, e.g., rotors where no singularities occur if you rotate about <span class="math notranslate nohighlight">\(x\)</span> or <span class="math notranslate nohighlight">\(z\)</span> axis, or use Lie-group formulation with rotation vector together with explicit solvers. REMARK: Use the class <code class="docutils literal notranslate"><span class="pre">RigidBodyInertia</span></code>, see Section <a class="reference internal" href="../pythonUtilities/rigidBodyUtilities.html#sec-rigidbodyutilities-rigidbodyinertia-init"><span class="std std-ref">Class function: __init__</span></a> and <code class="docutils literal notranslate"><span class="pre">AddRigidBody(...)</span></code>, see Section <a class="reference internal" href="../pythonUtilities/rigidBodyUtilities.html#sec-rigidbodyutilities-addrigidbody"><span class="std std-ref">Function: AddRigidBody</span></a>, of <code class="docutils literal notranslate"><span class="pre">exudyn.rigidBodyUtilities</span></code> to handle inertia, <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> and mass. addExampleImageObjectRigidBody</p>
<p><strong>Additional information for ObjectRigidBody</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line">This <code class="docutils literal notranslate"><span class="pre">Object</span></code> has/provides the following types = <code class="docutils literal notranslate"><span class="pre">Body</span></code>, <code class="docutils literal notranslate"><span class="pre">SingleNoded</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line">Requested <code class="docutils literal notranslate"><span class="pre">Node</span></code> type = <code class="docutils literal notranslate"><span class="pre">Position</span></code> + <code class="docutils literal notranslate"><span class="pre">Orientation</span></code> + <code class="docutils literal notranslate"><span class="pre">RigidBody</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python = <code class="docutils literal notranslate"><span class="pre">RigidBody</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python visualization object = <code class="docutils literal notranslate"><span class="pre">VRigidBody</span></code></div>
</div>
</li>
</ul>
<p>The item <strong>ObjectRigidBody</strong> with type = ‘RigidBody’ has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>name</strong> [type = String, default = ‘’]:</div>
<div class="line">objects’s unique name</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsMass</strong> [<span class="math notranslate nohighlight">\(m\)</span>, type = UReal, default = 0.]:</div>
<div class="line">mass [SI:kg] of rigid body</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsInertia</strong> [<span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{j}}_6}\)</span>, type = Vector6D, default = [0.,0.,0., 0.,0.,0.]]:</div>
<div class="line">inertia components [SI:kgm<span class="math notranslate nohighlight">\(^2\)</span>]: <span class="math notranslate nohighlight">\([J_{xx}, J_{yy}, J_{zz}, J_{yz}, J_{xz}, J_{xy}]\)</span> in body-fixed coordinate system and w.r.t. to the reference point of the body, NOT necessarily w.r.t. to <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a>; use the class RigidBodyInertia and AddRigidBody(…) of exudynRigidBodyUtilities.py to handle inertia, <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> and mass</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsCenterOfMass</strong> [<span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{b}}_{COM}}\)</span>, type = Vector3D, size = 3, default = [0.,0.,0.]]:</div>
<div class="line">local position of <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> relative to the body’s reference point; if the vector of the <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> is [0,0,0], the computation will not consider additional terms for the <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> and it is faster</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>nodeNumber</strong> [<span class="math notranslate nohighlight">\(n0\)</span>, type = NodeIndex, default = invalid (-1)]:</div>
<div class="line">node number (type NodeIndex) for rigid body node</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>visualization</strong> [type = VObjectRigidBody]:</div>
<div class="line">parameters for visualization of item</div>
</div>
</li>
</ul>
<p>The item VObjectRigidBody has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>show</strong> [type = Bool, default = True]:</div>
<div class="line">set true, if item is shown in visualization and false if it is not shown</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>graphicsDataUserFunction</strong> [type = PyFunctionGraphicsData, default =  0]:</div>
<div class="line">A Python function which returns a bodyGraphicsData object, which is a list of graphics data in a dictionary computed by the user function; the graphics elements need to be defined in the local body coordinates and are transformed by mbs to global coordinates</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>graphicsData</strong> [type = BodyGraphicsData]:</div>
<div class="line">Structure contains data for body visualization; data is defined in special list / dictionary structure</div>
</div>
</li>
</ul>
<hr class="docutils" />
<section id="description-of-objectrigidbody">
<span id="description-objectrigidbody"></span><h2>DESCRIPTION of ObjectRigidBody<a class="headerlink" href="#description-of-objectrigidbody" title="Link to this heading"></a></h2>
<p><strong>The following output variables are available as OutputVariableType in sensors, Get…Output() and other functions</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Position</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{p}}}\cConfig(\pLocB) = \LU{0}{\pRef}\cConfig + \LU{0}{\pRef}\cRef + \LU{0b}{\Rot}\pLocB\)</span></div>
<div class="line">global position vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Displacement</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{u}}}\cConfig + \LU{0b}{\Rot}\pLocB\)</span></div>
<div class="line">global displacement vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Velocity</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{v}}}\cConfig(\pLocB) = \LU{0}{\dot{\mathbf{u}}}\cConfig + \LU{0b}{\Rot}(\LU{b}{\tomega} \times \pLocB\cConfig)\)</span></div>
<div class="line">global velocity vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">VelocityLocal</span></code>: <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{v}}}\cConfig(\pLocB) = \LU{b0}{\Rot} \LU{0}{{\mathbf{v}}}\cConfig(\pLocB)\)</span></div>
<div class="line">local (body-fixed) velocity vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">RotationMatrix</span></code>: <span class="math notranslate nohighlight">\(\mathrm{vec}(\LU{0b}{\Rot})=[A_{00},\,A_{01},\,A_{02},\,A_{10},\,\ldots,\,A_{21},\,A_{22}]\cConfig\tp\)</span></div>
<div class="line">vector with 9 components of the rotation matrix (row-major format)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Rotation</span></code>:</div>
<div class="line">vector with 3 components of the Euler angles in xyz-sequence (R=Rx*Ry*Rz), recomputed from rotation matrix</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">AngularVelocity</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{\tomega}\cConfig\)</span></div>
<div class="line">angular velocity of body</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">AngularVelocityLocal</span></code>: <span class="math notranslate nohighlight">\(\LU{b}{\tomega}\cConfig\)</span></div>
<div class="line">local (body-fixed) 3D velocity vector of node</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Acceleration</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{a}}}\cConfig(\pLocB) = \LU{0}{\ddot{\mathbf{u}}} + \LU{0}{\talpha} \times (\LU{0b}{\Rot} \pLocB) +  \LU{0}{\tomega} \times ( \LU{0}{\tomega} \times(\LU{0b}{\Rot} \pLocB))\)</span></div>
<div class="line">global acceleration vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">AccelerationLocal</span></code>: <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{a}}}\cConfig(\pLocB) = \LU{b0}{\Rot} \LU{0}{{\mathbf{a}}}\cConfig(\pLocB)\)</span></div>
<div class="line">local (body-fixed) acceleration vector of body-fixed point given by local position vector <span class="math notranslate nohighlight">\(\pLocB\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">AngularAcceleration</span></code>: <span class="math notranslate nohighlight">\(\LU{0}{\talpha}\cConfig\)</span></div>
<div class="line">angular acceleration vector of body</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">AngularAccelerationLocal</span></code>: <span class="math notranslate nohighlight">\(\LU{b}{\talpha}\cConfig = \LU{b0}{\Rot} \LU{0}{\talpha}\cConfig\)</span></div>
<div class="line">local angular acceleration vector of body</div>
</div>
</li>
</ul>
</section>
<section id="definition-of-quantities">
<h2>Definition of quantities<a class="headerlink" href="#definition-of-quantities" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text"></span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">intermediate variables</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">symbol</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">inertia tensor</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{J}}} = \LU{b}{\mr{J_{xx}}{J_{xy}}{J_{xz}} {J_{xy}}{J_{yy}}{J_{yz}} {J_{xz}}{J_{yz}}{J_{zz}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">symmetric inertia tensor, based on components of <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{j}}_6}\)</span>, in body-fixed (local) coordinates and w.r.t.body’s reference point</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">reference coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\({\mathbf{q}}\cRef = [\pRef\tp\cRef,\,\tpsi\tp\cRef]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">defines reference configuration, <strong>DIFFERENT</strong> meaning from body’s reference point!</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(relative) current coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\({\mathbf{q}}\cCur = [\pRef\tp\cCur,\,\tpsi\tp\cCur]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">unknowns in solver; <strong>relative</strong> to the reference coordinates; current coordinates at initial configuration = initial coordinates <span class="math notranslate nohighlight">\({\mathbf{q}}\cIni\)</span></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">current velocity coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\dot {\mathbf{q}}\cCur = [{\mathbf{v}}\tp\cCur,\,\dot \tpsi\tp\cCur]\tp = [\dot {\mathbf{p}}\tp\cCur,\,\dot \ttheta\tp\cCur]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">current velocity coordinates</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">body’s reference point</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\pRefG\cConfig + \pRefG\cRef = \LU{0}{{\mathbf{p}}}(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">position of <strong>body’s reference point</strong> provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration except for reference; if <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{b}}_{COM}}==[0,\;0,\;0]\tp\)</span>, this position becomes equal to the <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> position</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">reference body’s reference point</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\pRefG\cRef = \LU{0}{{\mathbf{p}}}(n_0)\cRef\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">position of <strong>body’s reference point</strong> in reference configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">body’s reference point displacement</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{u}}}\cConfig = \pRefG\cConfig = [q_0,\;q_1,\;q_2]\cConfig\tp = \LU{0}{{\mathbf{u}}}(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">displacement of <strong>body’s reference point</strong> which is provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">body’s reference point velocity</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{v}}}\cConfig = \dot \pRefG\cConfig = [\dot q_0,\;\dot q_1,\;\dot q_2]\cConfig\tp = \LU{0}{{\mathbf{v}}}(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">velocity of <strong>body’s reference point</strong> which is provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">body’s reference point acceleration</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{a}}}\cConfig = [\ddot q_0,\;\ddot q_1,\;\ddot q_2]\cConfig\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">acceleration of <strong>body’s reference point</strong> which is provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">rotation coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\ttheta_{\mathrm{config}} = \tpsi(n_0)\cRef + \tpsi(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">(total) rotation parameters of body as provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">rotation parameters</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\ttheta_{\mathrm{config}} = \tpsi(n_0)\cRef + \tpsi(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">(total) rotation parameters of body as provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">body rotation matrix</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0b}{\Rot}\cConfig = \LU{0b}{\Rot}(n_0)\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">rotation matrix which transforms local to global coordinates as given by node</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">local position</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\pLocB = [\LU{b}{b_0},\,\LU{b}{b_1},\,\LU{b}{b_2}]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">local position as used by markers or sensors</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">angular velocity</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\tomega}\cConfig = \LU{0}{[\omega_0(n_0),\,\omega_1(n_0),\,\omega_2(n_0)]}\cConfig\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">global angular velocity of body as provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">local angular velocity</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{\tomega}\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">local angular velocity of body as provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">body angular acceleration</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\talpha}\cConfig = \LU{0}{\dot \tomega}\cConfig\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">angular acceleratoin of body as provided by node <span class="math notranslate nohighlight">\(n_0\)</span> in any configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">applied forces</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{f}}}_a = [f_0,\;f_1,\;f_2]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">calculated from loads, connectors, …</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">applied torques</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\ttau}_a = [\tau_0,\;\tau_1,\;\tau_2]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">calculated from loads, connectors, …</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">constraint reaction forces</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{f}}}_\lambda = [f_{\lambda 0},\;f_{\lambda 1},\;f_{\lambda 2}]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">calculated from joints or constraint)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">constraint reaction torques</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\ttau}_\lambda = [\tau_{\lambda 0},\;\tau_{\lambda 1},\;\tau_{\lambda 2}]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">calculated from joints or constraints</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="rotation-parametrization">
<h2>Rotation parametrization<a class="headerlink" href="#rotation-parametrization" title="Link to this heading"></a></h2>
<p>The equations of motion of the rigid body build upon a specific parameterization of the rigid body coordinates.
Rigid body coordinates are defined by the underlying node given by <code class="docutils literal notranslate"><span class="pre">nodeNumber</span></code> <span class="math notranslate nohighlight">\(n0\)</span>.
Appropriate nodes are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NodeRigidBodyEP</span></code> (Euler parameters)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NodeRigidBodyRxyz</span></code> (Euler angles / Tait Bryan angles)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NodeRigidBodyRotVecLG</span></code> (Rotation vector with Lie group integration option)</p></li>
</ul>
<p>Note that all operations for rotation parameters, such as the computation of the rotation matrix, must be performed with the
rotation parameters <span class="math notranslate nohighlight">\(\ttheta\)</span>, see table above, which are the sum of reference and current coordinates.</p>
<p>The angular velocity in body-fixed coordinates is related to the rotation parameters by means of a matrix <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{G}}_{rp}}\)</span>,</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-omegalocal">
<span class="eqno">(15)<a class="headerlink" href="#equation-eq-objectrigidbody-omegalocal" title="Link to this equation"></a></span>\[\LU{b}{\tomega} = \LU{b}{{\mathbf{G}}_{rp}} \dot \ttheta = \LU{b}{{\mathbf{G}}_{rp}} \dot \tpsi ,\]</div>
<p>and is specific for any rotation parametrization <span class="math notranslate nohighlight">\(rp\)</span>.
The angular velocity in global coordinates is related to the rotation parameters by means of a matrix <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{G}}_{rp}}\)</span>,</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-omega">
<span class="eqno">(16)<a class="headerlink" href="#equation-eq-objectrigidbody-omega" title="Link to this equation"></a></span>\[\LU{0}{\tomega} = \LU{0}{{\mathbf{G}}_{rp}} \dot \ttheta.\]</div>
<p>The local angular accelerations follow as</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-alpha">
<span class="eqno">(17)<a class="headerlink" href="#equation-eq-objectrigidbody-alpha" title="Link to this equation"></a></span>\[\LU{b}{\talpha} = \LU{b}{\dot \tomega}= \LU{b}{{\mathbf{G}}_{rp}} \ddot \ttheta + \LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta ,\]</div>
<p>remember that derivatives for angular velocities can also be done in the local frame. In case of Euler parameters and the Lie-group rotation vector we find that
<span class="math notranslate nohighlight">\(\LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta = \Null\)</span>.</p>
</section>
<section id="equations-of-motion-for-com">
<h2>Equations of motion for <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a><a class="headerlink" href="#equations-of-motion-for-com" title="Link to this heading"></a></h2>
<p>The equations of motion for a rigid body, the so-called Newton-Euler equations, can be written for the special case of the reference point <span class="math notranslate nohighlight">\(=\)</span> <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> and split for translations and rotations, using a coordinate-free notation,</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eomcom0">
<span class="eqno">(18)<a class="headerlink" href="#equation-eq-objectrigidbody-eomcom0" title="Link to this equation"></a></span>\[\mp{m \mathbf{I}_{3 \times 3}}{\Null}{\Null}{{\mathbf{J}}} \vp{{\mathbf{a}}_{COM}}{\talpha} = \vp{\Null}{-\tilde \tomega {\mathbf{J}} \tomega} + \vp{{\mathbf{f}}_a}{\ttau_a} + \vp{{\mathbf{f}}_\lambda}{\ttau_\lambda}\]</div>
<p>with the <span class="math notranslate nohighlight">\(3\times 3\)</span> unit matrix <span class="math notranslate nohighlight">\(\mathbf{I}_{3 \times 3}\)</span> and forces <span class="math notranslate nohighlight">\({\mathbf{f}}\)</span> resp.torques <span class="math notranslate nohighlight">\(\ttau\)</span> as discribed in the table above.
A change of the reference point, using the vector <span class="math notranslate nohighlight">\({\mathbf{b}}_{COM}\)</span> from the body’s reference point <span class="math notranslate nohighlight">\({\mathbf{p}}\)</span> to the <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> position, is simple by replacing <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a> accelerations using the common relation known from Euler</p>
<div class="math notranslate nohighlight">
\[{\mathbf{a}}_{COM} =  {\mathbf{a}} + \tilde \talpha {\mathbf{b}}_{COM} + \tilde \tomega \tilde \tomega {\mathbf{b}}_{COM} ,\]</div>
<p>which is inserted into the first line of Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-eomcom0">(18)</a>. Additionally, the second line of Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-eomcom0">(18)</a>(second Euler equation related to rate of angular momentum) is rewritten for an arbitrary reference point, <span class="math notranslate nohighlight">\({\mathbf{b}}_{COM}\)</span> denoting the vector from the body reference point to <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a>, using the well known relation</p>
<div class="math notranslate nohighlight">
\[m \tilde {\mathbf{b}}_{COM} \talpha +  {\mathbf{J}} \talpha + \tilde \tomega {\mathbf{J}} \tomega = \ttau_a + \ttau_\lambda\]</div>
</section>
<section id="equations-of-motion-for-arbitrary-reference-point">
<h2>Equations of motion for arbitrary reference point<a class="headerlink" href="#equations-of-motion-for-arbitrary-reference-point" title="Link to this heading"></a></h2>
<p>This immediately leads to the equations of motion for the rigid body with respect to an arbitrary reference point (<span class="math notranslate nohighlight">\(\neq\)</span> <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a>),
see e.g.(page 258ff.), which have the general coordinate-free form</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eomarbitrary">
<span class="eqno">(19)<a class="headerlink" href="#equation-eq-objectrigidbody-eomarbitrary" title="Link to this equation"></a></span>\[\mp{m \mathbf{I}_{3 \times 3}}{-m \tilde {\mathbf{b}}_{COM}}{m \tilde {\mathbf{b}}_{COM}}{{\mathbf{J}}} \vp{{\mathbf{a}}}{\talpha} = \vp{-m \tilde \tomega \tilde \tomega {\mathbf{b}}_{COM} }{-\tilde \tomega {\mathbf{J}} \tomega} + \vp{{\mathbf{f}}_a}{\ttau_a} + \vp{{\mathbf{f}}_\lambda}{\ttau_\lambda} ,\]</div>
<p>in which <span class="math notranslate nohighlight">\({\mathbf{J}}\)</span> is the inertia tensor w.r.t.the chosen reference point (which has local coordinates <span class="math notranslate nohighlight">\(\LU{b}{[0,0,0]\tp}\)</span>).
Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-eomarbitrary">(19)</a> can be written in the global frame (0),</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eomglobal">
<span class="eqno">(20)<a class="headerlink" href="#equation-eq-objectrigidbody-eomglobal" title="Link to this equation"></a></span>\[\mp{m \mathbf{I}_{3 \times 3}}{-m \LU{0}{\tilde {\mathbf{b}}_{COM}}} {m \LU{0}{\tilde {\mathbf{b}}_{COM}}}{\LU{0}{{\mathbf{J}}}} \vp{\LU{0}{{\mathbf{a}}}}{\LU{0}{\talpha}} = \vp{-m \LU{0}{\tilde \tomega} \LU{0}{\tilde \tomega} \LU{0}{{\mathbf{b}}_{COM}} } {-\LU{0}{\tilde \tomega} \LU{0}{{\mathbf{J}}} \LU{0}{\tomega}} + \vp{\LU{0}{{\mathbf{f}}_a}}{\LU{0}{\ttau_a}} + \vp{\LU{0}{{\mathbf{f}}_\lambda}}{\LU{0}{\ttau_\lambda}} .\]</div>
<p>Expressing the translational part (first line) of Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-eomglobal">(20)</a> in the global frame (0), using local coordinates (b) for
quantities that are constant in the body-fixed frame, <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{J}}}\)</span> and <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{b}}_{COM}}\)</span>, thus expressing also the
angular velocity <span class="math notranslate nohighlight">\(\LU{b}{\tomega}\)</span> in the body-fixed frame,
applying Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-omegalocal">(15)</a> and Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-alpha">(17)</a>, and using the relations</p>
<div class="math notranslate nohighlight">
\[\begin{split}\LU{0}{\tilde \tomega}  \LU{0}{\tilde \tomega} \LU{0}{{\mathbf{b}}_{COM}} &amp;=&amp; \LU{0b}{\Rot} \LU{b}{\tilde \tomega} \LU{b}{\tilde \tomega} \LU{b}{{\mathbf{b}}_{COM}} = - \LU{0b}{\Rot} \LU{b}{\tilde \tomega} \LU{b}{\tilde {\mathbf{b}}_{COM}} \LU{b}{\tomega} = -\LU{0b}{\Rot} \LU{b}{\tilde \tomega} \LU{b}{\tilde {\mathbf{b}}_{COM}} \LU{b}{{\mathbf{G}}_{rp}} \dot \ttheta , \\
-m \LU{0}{\tilde {\mathbf{b}}_{COM}} \LU{0}{\tilde \talpha} &amp;=&amp; -m \LU{0b}{\Rot} \LU{b}{\tilde {\mathbf{b}}_{COM}} \LU{b}{\tilde \talpha} = -m \LU{0b}{\Rot} \LU{b}{\tilde {\mathbf{b}}_{COM}} \left( \LU{b}{{\mathbf{G}}_{rp}} \ddot \ttheta + \LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta \right) ,\end{split}\]</div>
<p>we obtain</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eom">
<span class="eqno">(21)<a class="headerlink" href="#equation-eq-objectrigidbody-eom" title="Link to this equation"></a></span>\[\begin{split}&amp;&amp;\mp{m \mathbf{I}_{3 \times 3}}  {-m \LU{0b}{\Rot} \LU{b}{\tilde {\mathbf{b}}_{COM}}\LU{b}{{\mathbf{G}}_{rp}}}  {m \LU{b}{{\mathbf{G}}_{rp}\tp} \LU{b}{\tilde {\mathbf{b}}_{COM}}\LU{0b}{\Rot\tp}}  {\LU{b}{{\mathbf{G}}_{rp}\tp}\LU{b}{{\mathbf{J}}}\LU{b}{{\mathbf{G}}_{rp}}} \vp{\LU{0}{{\mathbf{a}}}}{\ddot \ttheta} \nonumber \\
&amp;&amp;= \vp{m \LU{0b}{\Rot} \LU{b}{\tilde \tomega} \LU{b}{\tilde {\mathbf{b}}_{COM}} \LU{b}{\tomega}  + m \LU{0b}{\Rot} \LU{b}{\tilde {\mathbf{b}}_{COM}}\LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta} {-\LU{b}{{\mathbf{G}}_{rp}\tp}\LU{b}{\tilde \tomega} \LU{b}{{\mathbf{J}}} \LU{b}{\tomega} - \LU{b}{{\mathbf{G}}_{rp}\tp} \LU{b}{{\mathbf{J}}} \LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta} + \vp{\LU{0}{{\mathbf{f}}}_a}{\LU{0}{{\mathbf{G}}_{rp}\tp}\LU{0}{\ttau}_a} + \vp{\LU{0}{{\mathbf{f}}}_\lambda}{{\mathbf{f}}_{\theta,\lambda}}\end{split}\]</div>
<p>with constraint reaction forces <span class="math notranslate nohighlight">\({\mathbf{f}}_{\theta,\lambda}\)</span> for the rotation parameters.
Note that
the last line has been pre-multiplied with <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{G}}_{rp}\tp}\)</span> (in order to make the mass matrix symmetric) and that
<span class="math notranslate nohighlight">\(\LU{b}{\dot {\mathbf{G}}_{rp}} \dot \ttheta = \Null\)</span> in case of Euler parameters and the Lie-group rotation vector .</p>
</section>
<section id="euler-parameters">
<h2>Euler parameters<a class="headerlink" href="#euler-parameters" title="Link to this heading"></a></h2>
<p>In case of Euler parameters, a constraint equation is automatically added, reading for the index 3 case</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eulerparameters">
<span class="eqno">(22)<a class="headerlink" href="#equation-eq-objectrigidbody-eulerparameters" title="Link to this equation"></a></span>\[g_\theta(\ttheta) = \theta_0^2 + \theta_1^2 + \theta_2^2 + \theta_3^2 - 1 = 0\]</div>
<p>and for the index 2 case</p>
<div class="math notranslate nohighlight" id="equation-eq-objectrigidbody-eulerparametersvel">
<span class="eqno">(23)<a class="headerlink" href="#equation-eq-objectrigidbody-eulerparametersvel" title="Link to this equation"></a></span>\[\dot g_\theta(\ttheta) = 2 \theta_0 \dot \theta_0 + 2 \theta_1 \dot \theta_1 + 2 \theta_2 \dot \theta_2 + 2 \theta_3 \dot \theta_3 = 0\]</div>
<p>Given a Lagrange parameter (algebraic variable) <span class="math notranslate nohighlight">\(\lambda_\theta\)</span> related to the Euler parameter constraint eqrefeq:ObjectRigidBody:eulerParameters, the constraint reaction forces in Eq. <a class="reference internal" href="#equation-eq-objectrigidbody-eom">(21)</a> then read</p>
<div class="math notranslate nohighlight">
\[{\mathbf{f}}_{\theta,\lambda} = \frac{\partial g_\theta}{\ttheta\tp} \lambda_\theta = [2\theta_0,\; 2\theta_1,\; 2\theta_2,\; 2\theta_3]\tp\]</div>
<hr class="docutils" />
<p><strong>Userfunction</strong>: <code class="docutils literal notranslate"><span class="pre">graphicsDataUserFunction(mbs,</span> <span class="pre">itemNumber)</span></code></p>
<p>A user function, which is called by the visualization thread in order to draw user-defined objects.
The function can be used to generate any <code class="docutils literal notranslate"><span class="pre">BodyGraphicsData</span></code>, see Section  <a class="reference internal" href="../GraphicsData.html#sec-graphicsdata"><span class="std std-ref">GraphicsData</span></a>.
Use <code class="docutils literal notranslate"><span class="pre">graphicsDataUtilities</span></code> functions, see Section  <a class="reference internal" href="../pythonUtilities/graphicsDataUtilities.html#sec-module-graphicsdatautilities"><span class="std std-ref">Module: graphicsDataUtilities</span></a>, to create more complicated objects.
Note that <code class="docutils literal notranslate"><span class="pre">graphicsDataUserFunction</span></code> needs to copy lots of data and is therefore
inefficient and only designed to enable simpler tests, but not large scale problems.</p>
<p>For an example for <code class="docutils literal notranslate"><span class="pre">graphicsDataUserFunction</span></code> see ObjectGround, Section <a class="reference internal" href="ObjectGround.html#sec-item-objectground"><span class="std std-ref">ObjectGround</span></a>.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text"></span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">arguments /  return</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">type or size</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mbs</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">MainSystem</div>
</div>
</td>
<td><div class="line-block">
<div class="line">provides reference to mbs, which can be used in user function to access all data of the object</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemNumber</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Index</div>
</div>
</td>
<td><div class="line-block">
<div class="line">integer number of the object in mbs, allowing easy access</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">returnValue</div>
</div>
</td>
<td><div class="line-block">
<div class="line">BodyGraphicsData</div>
</div>
</td>
<td><div class="line-block">
<div class="line">list of <code class="docutils literal notranslate"><span class="pre">GraphicsData</span></code> dictionaries, see Section  <a class="reference internal" href="../GraphicsData.html#sec-graphicsdata"><span class="std std-ref">GraphicsData</span></a></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>For creating a <code class="docutils literal notranslate"><span class="pre">ObjectRigidBody</span></code>, there is a <code class="docutils literal notranslate"><span class="pre">rigidBodyUtilities</span></code> function <code class="docutils literal notranslate"><span class="pre">AddRigidBody</span></code>,
see Section <a class="reference internal" href="../pythonUtilities/rigidBodyUtilities.html#sec-rigidbodyutilities-addrigidbody"><span class="std std-ref">Function: AddRigidBody</span></a>, which simplifies the setup of a rigid body significantely!</p>
<p>Relevant Examples and TestModels with weblink:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigid3Dexample.py">rigid3Dexample.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidBodyIMUtest.py">rigidBodyIMUtest.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py">bicycleIftommBenchmark.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py">craneReevingSystem.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/fourBarMechanism3D.py">fourBarMechanism3D.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/gyroStability.py">gyroStability.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py">humanRobotInteraction.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py">leggedRobot.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/mouseInteractionExample.py">mouseInteractionExample.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/multiMbsTest.py">multiMbsTest.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py">openVRengine.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py">particleClusters.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorPythonTest.py">explicitLieGroupIntegratorPythonTest.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorTest.py">explicitLieGroupIntegratorTest.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupMBSTest.py">explicitLieGroupMBSTest.py</a> (TestModels/)</p>
</div></blockquote>
<p><strong>The web version may not be complete. For details, consider also the Exudyn PDF documentation</strong> : <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/docs/theDoc/theDoc.pdf">theDoc.pdf</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ObjectRotationalMass1D.html" class="btn btn-neutral float-left" title="ObjectRotationalMass1D" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ObjectRigidBody2D.html" class="btn btn-neutral float-right" title="ObjectRigidBody2D" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>