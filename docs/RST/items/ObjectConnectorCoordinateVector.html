<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ObjectConnectorCoordinateVector &mdash; Exudyn1.7.66.dev1 1.7.66.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/rtd_sphinx_search.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=e11081fd" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=631ec0cd"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../_static/js/rtd_search_config.js"></script>
        <script src="../../../_static/js/rtd_sphinx_search.min.js"></script>
        <script>window.MathJax = {"loader": {"load": ["[tex]/mathtools"]}, "tex": {"packages": {"[+]": ["mathtools"]}, "macros": {"vspace": ["{}", 1], "ra": "{\\rightarrow}", "Rcal": "{\\mathbb{R}}", "Ccal": "{\\mathbb{C}}", "Ncal": "{\\mathbb{N}}", "Rot": "{\\mathbf{A}}", "dd": "{\\mathrm{d}}", "co": "{\\mathrm{c}}", "si": "{\\mathrm{s}}", "tp": "{^\\mathrm{T}}", "diag": "{\\mathrm{diag}}", "vec": "{\\mathrm{vec}}", "Null": "{\\mathbf{0}}", "varepsilonDot": "{\\boldsymbol{\\varepsilon}}", "talpha": "{\\boldsymbol{\\alpha}}", "tbeta": "{\\boldsymbol{\\beta}}", "tgamma": "{\\boldsymbol{\\gamma}}", "tchi": "{\\boldsymbol{\\chi}}", "tdelta": "{\\boldsymbol{\\delta}}", "teps": "{\\boldsymbol{\\varepsilon}}", "tepsDot": "{\\boldsymbol{\\dot \\varepsilon}}", "teta": "{\\boldsymbol{\\eta}}", "tkappa": "{\\boldsymbol{\\kappa}}", "tkappaDot": "{\\boldsymbol{\\dot \\kappa}}", "tphi": "{\\boldsymbol{\\phi}}", "tPhi": "{\\boldsymbol{\\Phi}}", "ttheta": "{\\boldsymbol{\\theta}}", "tTheta": "{\\boldsymbol{\\Theta}}", "tlambda": "{\\boldsymbol{\\lambda}}", "tnu": "{\\boldsymbol{\\nu}}", "tmu": "{\\boldsymbol{\\mu}}", "tpsi": "{\\boldsymbol{\\psi}}", "tPsi": "{\\boldsymbol{\\Psi}}", "ttau": "{\\boldsymbol{\\tau}}", "tsigma": "{\\boldsymbol{\\sigma}}", "txi": "{\\boldsymbol{\\xi}}", "tzeta": "{\\boldsymbol{\\zeta}}", "tomega": "{\\boldsymbol{\\omega}}", "tOmega": "{\\boldsymbol{\\Omega}}", "vareps": "{\\varepsilon}", "pluseq": "\\mathrel{+}=", "LU": ["{\\prescript{#1}{}{#2}\\,}", 2], "LUX": ["{\\prescript{#1}{}{#2}#3\\,}", 3], "LUR": ["{\\prescript{#1}{}{#2}_{#3}\\,}", 3], "LURU": ["{\\prescript{#1}{}{#2}_{#3}^{#4}\\,}", 4], "LLdot": ["{\\prescript{}{#1}{\\dot{#2}}_{#3}\\,}", 3], "vr": ["{\\left[ \\begin{array}{c} { #1}\\vspace{0.04cm} \\\\ { #2}\\vspace{0.04cm} \\\\ { #3} \\end{array} \\right]}", 3], "mr": ["{\\left[ \\begin{array}{ccc} #1 & #2 & #3 \\vspace{0.04cm}\\\\ #4 & #5 & #6 \\vspace{0.04cm}\\\\ #7 & #8 & #9  \\end{array} \\right]}", 9], "vp": ["{\\left[ \\begin{array}{c} { #1} \\vspace{0.04cm}\\\\ { #2} \\end{array} \\right]}", 2], "mp": ["{\\left[ \\begin{array}{cc} #1 & #2 \\vspace{0.04cm}\\\\ #3 & #4 \\end{array} \\right]}", 4], "vrRow": ["{[#1,\\, #2,\\, #3]}", 3], "vsix": ["{\\left[\\!\\! \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} \\!\\!\\right]}", 6], "vsixb": ["{\\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "vsixs": ["{ \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "SO": "{q}", "FO": "{y}", "AE": "{\\lambda}", "SYS": "{s}", "SON": "{$2^\\mathrm{nd}$ order differential equations}", "FON": "{$1^\\mathrm{st}$ order differential equations}", "AEN": "{algebraic equations}", "SYSN": "{system equations}", "cIni": "{_\\mathrm{ini}}", "cRef": "{_\\mathrm{ref}}", "cCur": "{_\\mathrm{cur}}", "cVis": "{_\\mathrm{vis}}", "cSOS": "{_\\mathrm{start\\;of\\;step}}", "cConfig": "{_\\mathrm{config}}", "pLoc": "{\\mathbf{b}}", "pLocB": "{\\,^{b}{\\mathbf{v}}}", "pRef": "{\\mathbf{r}}", "pRefG": "{\\,^{0}{\\mathbf{r}}}", "indf": "{_\\mathrm{f}}", "indt": "{_\\mathrm{t}}", "indr": "{_\\mathrm{r}}", "indtt": "{_\\mathrm{tt}}", "indrr": "{_\\mathrm{rr}}", "indff": "{_\\mathrm{ff}}", "indtf": "{_\\mathrm{tf}}", "indrf": "{_\\mathrm{rf}}", "indtr": "{_\\mathrm{tr}}", "omegaBDtilde": "{\\LU{b}{\\tilde \\tomega_\\mathrm{bd}}}", "indrigid": "{_\\mathrm{rigid}}", "indred": "{_\\mathrm{red}}", "induser": "{_\\mathrm{user}}", "indu": "{_\\mathrm{u}}", "termA": ["{\\color{blue}{#1}}", 1], "termB": ["{\\color{red}{#1}}", 1], "termC": ["{\\color{green}{#1}}", 1], "avu": "{\\ddot \\mathbf{q}}", "GA": "{G\\alpha}", "aalg": "{\\mathbf{a}}", "vel": "{\\mathbf{v}}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Object (Joint)" href="objectJointIndex.html" />
    <link rel="prev" title="ObjectConnectorCoordinate" href="ObjectConnectorCoordinate.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Exudyn1.7.66.dev1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Exudyn User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Exudyn.html">Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../InstallationAndGettingStartedIndex.html">Installation and Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OverviewOnExudynIndex.html">Overview on Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TutorialIndex.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GraphicsAndVisualizationIndex.html">Graphics and visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NotationIndex.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TheoryAndFormulationsIndex.html">Theory and formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SolversIndex.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cInterface/CInterfaceIndex.html">Python-C++ command interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pythonUtilities/index.html">Python Utility Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="itemsIndex.html">Items reference manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nodeIndex.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectBodyIndex.html">Object (Body)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectSuperElementIndex.html">Object (SuperElement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectObjectIndex.html">Object (Object)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectFiniteElementIndex.html">Object (FiniteElement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectConnectorIndex.html">Object (Connector)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="objectConstraintIndex.html">Object (Constraint)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ObjectConnectorDistance.html">ObjectConnectorDistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectConnectorCoordinate.html">ObjectConnectorCoordinate</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ObjectConnectorCoordinateVector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="objectJointIndex.html">Object (Joint)</a></li>
<li class="toctree-l2"><a class="reference internal" href="markerIndex.html">Marker</a></li>
<li class="toctree-l2"><a class="reference internal" href="loadIndex.html">Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensorIndex.html">Sensor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structures/StructuresAndSettingsIndex.html">Structures and Settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Abbreviations.html">List of Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExamplesIndex.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TestModelsIndex.html">TestModels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trackerlog.html">Issue tracker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Exudyn1.7.66.dev1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="itemsIndex.html">Items reference manual</a></li>
          <li class="breadcrumb-item"><a href="objectConstraintIndex.html">Object (Constraint)</a></li>
      <li class="breadcrumb-item active">ObjectConnectorCoordinateVector</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/RST/items/ObjectConnectorCoordinateVector.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="objectconnectorcoordinatevector">
<span id="sec-item-objectconnectorcoordinatevector"></span><h1>ObjectConnectorCoordinateVector<a class="headerlink" href="#objectconnectorcoordinatevector" title="Link to this heading"></a></h1>
<p>A constraint which constrains the coordinate vectors of two markers Marker[Node|Object|Body]Coordinates attached to nodes or bodies. The marker uses the objects <a class="reference internal" href="../Abbreviations.html#ltg"><span class="std std-ref">LTG</span></a>-lists to build the according coordinate mappings.</p>
<p><strong>Additional information for ObjectConnectorCoordinateVector</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line">This <code class="docutils literal notranslate"><span class="pre">Object</span></code> has/provides the following types = <code class="docutils literal notranslate"><span class="pre">Connector</span></code>, <code class="docutils literal notranslate"><span class="pre">Constraint</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line">Requested <code class="docutils literal notranslate"><span class="pre">Marker</span></code> type = <code class="docutils literal notranslate"><span class="pre">Coordinate</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python = <code class="docutils literal notranslate"><span class="pre">CoordinateVectorConstraint</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python visualization object = <code class="docutils literal notranslate"><span class="pre">VCoordinateVectorConstraint</span></code></div>
</div>
</li>
</ul>
<p>The item <strong>ObjectConnectorCoordinateVector</strong> with type = ‘ConnectorCoordinateVector’ has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>name</strong> [type = String, default = ‘’]:</div>
<div class="line">constraints’s unique name</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>markerNumbers</strong> [<span class="math notranslate nohighlight">\([m0,m1]\tp\)</span>, type = ArrayMarkerIndex, default = [ invalid [-1], invalid [-1] ]]:</div>
<div class="line">list of markers used in connector</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>scalingMarker0</strong> [<span class="math notranslate nohighlight">\({\mathbf{X}}_{m0} \in \Rcal^{n_{ae} \times n_{q_{m0}}}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">linear scaling matrix for coordinate vector of marker 0; matrix provided in Python numpy format</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>scalingMarker1</strong> [<span class="math notranslate nohighlight">\({\mathbf{X}}_{m1} \in \Rcal^{n_{ae} \times n_{q_{m1}}}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">linear scaling matrix for coordinate vector of marker 1; matrix provided in Python numpy format</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>quadraticTermMarker0</strong> [<span class="math notranslate nohighlight">\({\mathbf{Y}}_{m0} \in \Rcal^{n_{ae} \times n_{q_{m0}}}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">quadratic scaling matrix for coordinate vector of marker 0; matrix provided in Python numpy format</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>quadraticTermMarker1</strong> [<span class="math notranslate nohighlight">\({\mathbf{Y}}_{m0} \in \Rcal^{n_{ae} \times n_{q_{m0}}}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">quadratic scaling matrix for coordinate vector of marker 1; matrix provided in Python numpy format</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>offset</strong> [<span class="math notranslate nohighlight">\({\mathbf{v}}_\mathrm{off} \in \Rcal^{n_{ae}}\)</span>, type = NumpyVector, default = []]:</div>
<div class="line">offset added to constraint equation; only active, if no userFunction is defined</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>velocityLevel</strong> [type = Bool, default = False]:</div>
<div class="line">If true: connector constrains velocities (only works for <a class="reference internal" href="../Abbreviations.html#ode2"><span class="std std-ref">ODE2</span></a> coordinates!); offset is used between velocities; in this case, the offsetUserFunction_t is considered and offsetUserFunction is ignored</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>constraintUserFunction</strong> [<span class="math notranslate nohighlight">\({\mathbf{c}}_{user} \in \Rcal^{n_{ae}}\)</span>, type = PyFunctionVectorMbsScalarIndex2VectorBool, default =  0]:</div>
<div class="line">A Python user function which computes the constraint equations; to define the number of algebraic equations, set scalingMarker0 as a numpy.zeros((nAE,1)) array with nAE being the number algebraic equations; see description below</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>jacobianUserFunction</strong> [<span class="math notranslate nohighlight">\({\mathbf{J}}_{user} \in \Rcal^{(n_{q_{m0}}+n_{q_{m1}}) \times n_{ae}}\)</span>, type = PyFunctionMatrixContainerMbsScalarIndex2VectorBool, default =  0]:</div>
<div class="line">A Python user function which computes the jacobian, i.e., the derivative of the left-hand-side object equation w.r.t.the coordinates (times <span class="math notranslate nohighlight">\(f_{ODE2}\)</span>) and w.r.t.the velocities (times <span class="math notranslate nohighlight">\(f_{ODE2_t}\)</span>). Terms on the RHS must be subtracted from the LHS equation; the respective terms for the stiffness matrix and damping matrix are automatically added; see description below</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>activeConnector</strong> [type = Bool, default = True]:</div>
<div class="line">flag, which determines, if the connector is active; used to deactivate (temporarily) a connector or constraint</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>visualization</strong> [type = VObjectConnectorCoordinateVector]:</div>
<div class="line">parameters for visualization of item</div>
</div>
</li>
</ul>
<p>The item VObjectConnectorCoordinateVector has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>show</strong> [type = Bool, default = True]:</div>
<div class="line">set true, if item is shown in visualization and false if it is not shown</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>color</strong> [type = Float4, default = [-1.,-1.,-1.,-1.]]:</div>
<div class="line">RGBA connector color; if R==-1, use default color</div>
</div>
</li>
</ul>
<hr class="docutils" />
<section id="description-of-objectconnectorcoordinatevector">
<span id="description-objectconnectorcoordinatevector"></span><h2>DESCRIPTION of ObjectConnectorCoordinateVector<a class="headerlink" href="#description-of-objectconnectorcoordinatevector" title="Link to this heading"></a></h2>
<p><strong>The following output variables are available as OutputVariableType in sensors, Get…Output() and other functions</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Displacement</span></code>: <span class="math notranslate nohighlight">\(\Delta {\mathbf{q}}\)</span></div>
<div class="line">relative scalar displacement of marker coordinates, not including scaling matrices</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Velocity</span></code>: <span class="math notranslate nohighlight">\(\Delta {\mathbf{v}}\)</span></div>
<div class="line">difference of scalar marker velocity coordinates, not including scaling matrices</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConstraintEquation</span></code>: <span class="math notranslate nohighlight">\({\mathbf{c}}\)</span></div>
<div class="line">(residuum of) constraint equations</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Force</span></code>: <span class="math notranslate nohighlight">\(\tlambda\)</span></div>
<div class="line">constraint force vector (vector of Lagrange multipliers), resulting from action of constraint equations</div>
</div>
</li>
</ul>
</section>
<section id="definition-of-quantities">
<h2>Definition of quantities<a class="headerlink" href="#definition-of-quantities" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text"></span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">intermediate variables</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">symbol</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">marker m0 coordinate vector</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\({\mathbf{q}}_{m0} \in \Rcal^{n_{q_{m0}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">coordinate vector provided by marker <span class="math notranslate nohighlight">\(m0\)</span>; depending on the marker, the coordinates may or may not include reference coordinates</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">marker m1 coordinate vector</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\({\mathbf{q}}_{m1} \in \Rcal^{n_{q_{m1}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">coordinate vector provided by marker <span class="math notranslate nohighlight">\(m1\)</span>; depending on the marker, the coordinates may or may not include reference coordinates</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">marker m0 velocity coordinate vector</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\dot {\mathbf{q}}_{m0} \in \Rcal^{n_{q_{m0}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">velocity coordinate vector provided by marker <span class="math notranslate nohighlight">\(m0\)</span></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">marker m1 velocity coordinate vector</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\dot {\mathbf{q}}_{m1} \in \Rcal^{n_{q_{m1}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">velocity coordinate vector provided by marker <span class="math notranslate nohighlight">\(m1\)</span></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">number of algebraic equations</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(n_{ae}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">number of algebraic equations must be same as number of rows in <span class="math notranslate nohighlight">\({\mathbf{X}}_{m0}\)</span> and <span class="math notranslate nohighlight">\({\mathbf{X}}_{m1}\)</span></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">difference of coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\Delta {\mathbf{q}} = {\mathbf{q}}_{m1} - {\mathbf{q}}_{m0}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Displacement between marker m0 to marker m1 coordinates</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">difference of velocity coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\Delta {\mathbf{v}}= \dot {\mathbf{q}}_{m1} - \dot {\mathbf{q}}_{m0}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks">
<h2>Remarks<a class="headerlink" href="#remarks" title="Link to this heading"></a></h2>
<p>The number of algebraic equations depends on the maximum number of rows in <span class="math notranslate nohighlight">\({\mathbf{X}}_{m0}\)</span>, <span class="math notranslate nohighlight">\({\mathbf{Y}}_{m0}\)</span>, <span class="math notranslate nohighlight">\({\mathbf{X}}_{m1}\)</span> and <span class="math notranslate nohighlight">\({\mathbf{Y}}_{m1}\)</span>.
The number of rows of the latter matrices must either be zero or the maximum of these rows.</p>
<p>The number of columns in <span class="math notranslate nohighlight">\({\mathbf{X}}_{m0}\)</span> (or <span class="math notranslate nohighlight">\({\mathbf{Y}}_{m0}\)</span>) must agree with the length of the coordinate vector
<span class="math notranslate nohighlight">\({\mathbf{q}}_{m0}\)</span> and the number of columns in <span class="math notranslate nohighlight">\({\mathbf{X}}_{m1}\)</span> (or <span class="math notranslate nohighlight">\({\mathbf{Y}}_{m1}\)</span>) must agree with the length of the coordinate vector
<span class="math notranslate nohighlight">\({\mathbf{q}}_{m1}\)</span>, if these matrices are not empty matrices.
If one marker <span class="math notranslate nohighlight">\(k\)</span> is a ground marker (node/object), the length of <span class="math notranslate nohighlight">\({\mathbf{q}}_{m,k}\)</span> is zero and also the according matrices
<span class="math notranslate nohighlight">\({\mathbf{X}}_{m,k}\)</span>, <span class="math notranslate nohighlight">\({\mathbf{Y}}_{m,k}\)</span>  have zero size and will not be considered in the computation of the constraint equations.</p>
</section>
<section id="connector-constraint-equations">
<h2>Connector constraint equations<a class="headerlink" href="#connector-constraint-equations" title="Link to this heading"></a></h2>
<p>If <code class="docutils literal notranslate"><span class="pre">activeConnector</span> <span class="pre">=</span> <span class="pre">True</span></code>, the index 3 algebraic equations</p>
<div class="math notranslate nohighlight">
\[{\mathbf{c}}({\mathbf{q}}_{m0}, {\mathbf{q}}_{m1}) = {\mathbf{X}}_{m1} \cdot {\mathbf{q}}_{m1} + {\mathbf{Y}}_{m1} \cdot {\mathbf{q}}^2_{m1} - {\mathbf{X}}_{m0} \cdot{\mathbf{q}}_{m0} -{\mathbf{Y}}_{m0} \cdot{\mathbf{q}}^2_{m0} - {\mathbf{v}}_\mathrm{off} = 0\]</div>
<p>Note that the squared coordinates are understood as <span class="math notranslate nohighlight">\({\mathbf{q}}^2_{m0} = [q^2_{0,m0}, \; q^2_{1,m0}, \; \ldots]\tp\)</span>, same for <span class="math notranslate nohighlight">\({\mathbf{q}}^2_{m1}\)</span>.</p>
<p>If the offsetUserFunction <span class="math notranslate nohighlight">\(\mathrm{UF}\)</span> is defined, <span class="math notranslate nohighlight">\({\mathbf{c}}\)</span> instead becomes (<span class="math notranslate nohighlight">\(t\)</span> is current time)</p>
<div class="math notranslate nohighlight">
\[{\mathbf{c}}({\mathbf{q}}_{m0}, {\mathbf{q}}_{m1}) = {\mathbf{X}}_{m1} \cdot {\mathbf{q}}_{m1} + {\mathbf{Y}}_{m1} \cdot {\mathbf{q}}^2_{m1} - {\mathbf{X}}_{m0} \cdot{\mathbf{q}}_{m0} -{\mathbf{Y}}_{m0} \cdot{\mathbf{q}}^2_{m0} -  \mathrm{UF}(mbs, t,{\mathbf{v}}_\mathrm{off}) = 0\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">activeConnector</span> <span class="pre">=</span> <span class="pre">True</span></code>, index 2 (velocity level) algebraic equation reads</p>
<div class="math notranslate nohighlight">
\[\dot {\mathbf{c}}(\dot {\mathbf{q}}_{m0}, \dot {\mathbf{q}}_{m1}) = {\mathbf{X}}_{m1} \cdot \dot {\mathbf{q}}_{m1} + {\mathbf{Y}}_{m1} \cdot \dot {\mathbf{q}}^2_{m1} -{\mathbf{X}}_{m0} \cdot \dot {\mathbf{q}}_{m0} - {\mathbf{Y}}_{m0} \cdot \dot {\mathbf{q}}^2_{m0} - {\mathbf{d}}_\mathrm{off} = 0\]</div>
<p>The vector <span class="math notranslate nohighlight">\(dv\)</span> in velocity level equations is zero, except if parameters.velocityLevel = True, then <span class="math notranslate nohighlight">\({\mathbf{d}}={\mathbf{v}}_\mathrm{off}\)</span>.</p>
<p>If velocity level constraints are active and the velocity level <code class="docutils literal notranslate"><span class="pre">offsetUserFunction_t</span></code> <span class="math notranslate nohighlight">\(\mathrm{UF}_t\)</span> is defined,
<span class="math notranslate nohighlight">\(\dot {\mathbf{c}}\)</span> instead becomes (<span class="math notranslate nohighlight">\(t\)</span> is current time)</p>
<div class="math notranslate nohighlight">
\[\dot {\mathbf{c}}(\dot {\mathbf{q}}_{m0}, \dot {\mathbf{q}}_{m1}) = {\mathbf{X}}_{m1} \cdot \dot {\mathbf{q}}_{m1} + {\mathbf{Y}}_{m1} \cdot \dot {\mathbf{q}}^2_{m1} -{\mathbf{X}}_{m0} \cdot \dot {\mathbf{q}}_{m0} - {\mathbf{Y}}_{m0} \cdot \dot {\mathbf{q}}^2_{m0} - \mathrm{UF}_t(mbs, t,{\mathbf{v}}_\mathrm{off}) = 0\]</div>
<p>Note that the index 2 equations are used, if the solver uses index 2 formulation OR if the flag parameters.velocityLevel = True (or both).
The user functions include dependency on time <span class="math notranslate nohighlight">\(t\)</span>, but this time dependency is not respected in the computation of initial accelerations. Therefore,
it is recommended that <span class="math notranslate nohighlight">\(\mathrm{UF}\)</span> and <span class="math notranslate nohighlight">\(\mathrm{UF}_t\)</span> does not include initial accelerations.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">activeConnector</span> <span class="pre">=</span> <span class="pre">False</span></code>, the (index 1) algebraic equation reads for ALL cases:</p>
<div class="math notranslate nohighlight">
\[{\mathbf{c}}(\tlambda) = \tlambda = 0\]</div>
<hr class="docutils" />
<p><strong>Userfunction</strong>: <code class="docutils literal notranslate"><span class="pre">constraintUserFunction(mbs,</span> <span class="pre">t,</span> <span class="pre">itemNumber,</span> <span class="pre">q,</span> <span class="pre">q_t,</span> <span class="pre">velocityLevel)</span></code></p>
<p>A user function, which computes algebraic equations for the connector based on the marker coordinates stored in <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">q_t</span></code>.
Depending on <code class="docutils literal notranslate"><span class="pre">velocityLevel</span></code>, the user function needs to compute either the position-level (<code class="docutils literal notranslate"><span class="pre">velocityLevel=False</span></code>) or
the velocity level (<code class="docutils literal notranslate"><span class="pre">velocityLevel=True</span></code>) constraint equations.
Note that for Index 2 solvers, the <code class="docutils literal notranslate"><span class="pre">constraintUserFunction</span></code> may be called with <code class="docutils literal notranslate"><span class="pre">velocityLevel=True</span></code> but <code class="docutils literal notranslate"><span class="pre">jacobianUserFunction</span></code>is called with <code class="docutils literal notranslate"><span class="pre">velocityLevel=False</span></code>.
To define the number of algebraic equations, set <code class="docutils literal notranslate"><span class="pre">scalingMarker0</span></code> as a <code class="docutils literal notranslate"><span class="pre">numpy.zeros((nAE,1))</span></code> array with <code class="docutils literal notranslate"><span class="pre">nAE</span></code> being the number algebraic equations.
The returned vector of <code class="docutils literal notranslate"><span class="pre">constraintUserFunction</span></code> must have size <code class="docutils literal notranslate"><span class="pre">nAE</span></code>.</p>
<p>Note that itemNumber represents the index of the ObjectGenericODE2 object in mbs, which can be used to retrieve additional data from the object through
<code class="docutils literal notranslate"><span class="pre">mbs.GetObjectParameter(itemNumber,</span> <span class="pre">...)</span></code>, see the according description of <code class="docutils literal notranslate"><span class="pre">GetObjectParameter</span></code>.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text"></span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">arguments /  return</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">type or size</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mbs</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">MainSystem</div>
</div>
</td>
<td><div class="line-block">
<div class="line">provides MainSystem mbs to which object belongs to</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Real</div>
</div>
</td>
<td><div class="line-block">
<div class="line">current time in mbs</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemNumber</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Index</div>
</div>
</td>
<td><div class="line-block">
<div class="line">integer number <span class="math notranslate nohighlight">\(i_N\)</span> of the object in mbs, allowing easy access to all object data via mbs.GetObjectParameter(itemNumber, …)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{(n_{q_{m0}}+n_{q_{m1}})}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">connector coordinates, subsequently for marker <span class="math notranslate nohighlight">\(m0\)</span> and marker <span class="math notranslate nohighlight">\(m1\)</span>, in current configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q_t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{(n_{q_{m0}}+n_{q_{m1}})}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">connector velocity coordinates in current configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">velocityLevel</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Bool</div>
</div>
</td>
<td><div class="line-block">
<div class="line">velocityLevel as currently stored in connector</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">returnValue</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{n_{ae}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">returns vector (numpy array or list) of evaluated constraint equations for connector</div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p><strong>Userfunction</strong>: <code class="docutils literal notranslate"><span class="pre">jacobianUserFunction(mbs,</span> <span class="pre">t,</span> <span class="pre">itemNumber,</span> <span class="pre">q,</span> <span class="pre">q_t,</span> <span class="pre">velocityLevel)</span></code></p>
<p>A user function, which computes the jacobian of the algebraic equations w.r.t. the ODE2 coordiantes (ODE2_t velocity coordinates if <code class="docutils literal notranslate"><span class="pre">velocityLevel=True</span></code>).
The jacobian needs to exactly represent the derivative of the constraintUserFunction.
The returned matrix of <code class="docutils literal notranslate"><span class="pre">jacobianUserFunction</span></code> must have <code class="docutils literal notranslate"><span class="pre">nAE</span></code> rows and <code class="docutils literal notranslate"><span class="pre">len(q)</span></code> columns.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text"></span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">arguments /  return</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">type or size</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mbs</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">MainSystem</div>
</div>
</td>
<td><div class="line-block">
<div class="line">provides MainSystem mbs to which object belongs to</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Real</div>
</div>
</td>
<td><div class="line-block">
<div class="line">current time in mbs</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemNumber</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Index</div>
</div>
</td>
<td><div class="line-block">
<div class="line">integer number <span class="math notranslate nohighlight">\(i_N\)</span> of the object in mbs, allowing easy access to all object data via mbs.GetObjectParameter(itemNumber, …)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{(n_{q_{m0}}+n_{q_{m1}})}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">connector coordinates, subsequently for marker <span class="math notranslate nohighlight">\(m0\)</span> and marker <span class="math notranslate nohighlight">\(m1\)</span>, in current configuration</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q_t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{(n_{q_{m0}}+n_{q_{m1}})}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">connector velocity coordinates in current configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">velocityLevel</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Bool</div>
</div>
</td>
<td><div class="line-block">
<div class="line">velocityLevel as currently stored in connector</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">returnValue</div>
</div>
</td>
<td><div class="line-block">
<div class="line">MatrixContainer <span class="math notranslate nohighlight">\(\in \Rcal^{(n_{q_{m0}}+n_{q_{m1}})\times n_{ae}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">returns special jacobian for connector, as exu.MatrixContainer,
numpy array or list of lists; use MatrixContainer sparse format for larger matrices to speed up computations;
sparse triplets MAY NOT contain zero values!</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Relevant Examples and TestModels with weblink:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/coordinateVectorConstraint.py">coordinateVectorConstraint.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/coordinateVectorConstraintGenericODE2.py">coordinateVectorConstraintGenericODE2.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyAsUserFunctionTest.py">rigidBodyAsUserFunctionTest.py</a> (TestModels/)</p>
</div></blockquote>
<p><strong>The web version may not be complete. For details, consider also the Exudyn PDF documentation</strong> : <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/docs/theDoc/theDoc.pdf">theDoc.pdf</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ObjectConnectorCoordinate.html" class="btn btn-neutral float-left" title="ObjectConnectorCoordinate" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="objectJointIndex.html" class="btn btn-neutral float-right" title="Object (Joint)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>