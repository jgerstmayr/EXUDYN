<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ObjectFFRFreducedOrder &mdash; Exudyn1.7.59.dev1 1.7.59.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/rtd_sphinx_search.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=e11081fd" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=18ccdb8d"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../_static/js/rtd_search_config.js"></script>
        <script src="../../../_static/js/rtd_sphinx_search.min.js"></script>
        <script>window.MathJax = {"loader": {"load": ["[tex]/mathtools"]}, "tex": {"packages": {"[+]": ["mathtools"]}, "macros": {"vspace": ["{}", 1], "ra": "{\\rightarrow}", "Rcal": "{\\mathbb{R}}", "Ccal": "{\\mathbb{C}}", "Ncal": "{\\mathbb{N}}", "Rot": "{\\mathbf{A}}", "dd": "{\\mathrm{d}}", "co": "{\\mathrm{c}}", "si": "{\\mathrm{s}}", "tp": "{^\\mathrm{T}}", "diag": "{\\mathrm{diag}}", "vec": "{\\mathrm{vec}}", "Null": "{\\mathbf{0}}", "varepsilonDot": "{\\boldsymbol{\\varepsilon}}", "talpha": "{\\boldsymbol{\\alpha}}", "tbeta": "{\\boldsymbol{\\beta}}", "tgamma": "{\\boldsymbol{\\gamma}}", "tchi": "{\\boldsymbol{\\chi}}", "tdelta": "{\\boldsymbol{\\delta}}", "teps": "{\\boldsymbol{\\varepsilon}}", "tepsDot": "{\\boldsymbol{\\dot \\varepsilon}}", "teta": "{\\boldsymbol{\\eta}}", "tkappa": "{\\boldsymbol{\\kappa}}", "tkappaDot": "{\\boldsymbol{\\dot \\kappa}}", "tphi": "{\\boldsymbol{\\phi}}", "tPhi": "{\\boldsymbol{\\Phi}}", "ttheta": "{\\boldsymbol{\\theta}}", "tTheta": "{\\boldsymbol{\\Theta}}", "tlambda": "{\\boldsymbol{\\lambda}}", "tnu": "{\\boldsymbol{\\nu}}", "tmu": "{\\boldsymbol{\\mu}}", "tpsi": "{\\boldsymbol{\\psi}}", "tPsi": "{\\boldsymbol{\\Psi}}", "ttau": "{\\boldsymbol{\\tau}}", "tsigma": "{\\boldsymbol{\\sigma}}", "txi": "{\\boldsymbol{\\xi}}", "tzeta": "{\\boldsymbol{\\zeta}}", "tomega": "{\\boldsymbol{\\omega}}", "tOmega": "{\\boldsymbol{\\Omega}}", "vareps": "{\\varepsilon}", "pluseq": "\\mathrel{+}=", "LU": ["{\\prescript{#1}{}{#2}\\,}", 2], "LUX": ["{\\prescript{#1}{}{#2}#3\\,}", 3], "LUR": ["{\\prescript{#1}{}{#2}_{#3}\\,}", 3], "LURU": ["{\\prescript{#1}{}{#2}_{#3}^{#4}\\,}", 4], "LLdot": ["{\\prescript{}{#1}{\\dot{#2}}_{#3}\\,}", 3], "vr": ["{\\left[ \\begin{array}{c} { #1}\\vspace{0.04cm} \\\\ { #2}\\vspace{0.04cm} \\\\ { #3} \\end{array} \\right]}", 3], "mr": ["{\\left[ \\begin{array}{ccc} #1 & #2 & #3 \\vspace{0.04cm}\\\\ #4 & #5 & #6 \\vspace{0.04cm}\\\\ #7 & #8 & #9  \\end{array} \\right]}", 9], "vp": ["{\\left[ \\begin{array}{c} { #1} \\vspace{0.04cm}\\\\ { #2} \\end{array} \\right]}", 2], "mp": ["{\\left[ \\begin{array}{cc} #1 & #2 \\vspace{0.04cm}\\\\ #3 & #4 \\end{array} \\right]}", 4], "vrRow": ["{[#1,\\, #2,\\, #3]}", 3], "vsix": ["{\\left[\\!\\! \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} \\!\\!\\right]}", 6], "vsixb": ["{\\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "vsixs": ["{ \\begin{array}{c} { #1} \\\\ { #2} \\\\ { #3} \\\\ { #4} \\\\ { #5} \\\\ { #6} \\end{array} }", 6], "SO": "{q}", "FO": "{y}", "AE": "{\\lambda}", "SYS": "{s}", "SON": "{$2^\\mathrm{nd}$ order differential equations}", "FON": "{$1^\\mathrm{st}$ order differential equations}", "AEN": "{algebraic equations}", "SYSN": "{system equations}", "cIni": "{_\\mathrm{ini}}", "cRef": "{_\\mathrm{ref}}", "cCur": "{_\\mathrm{cur}}", "cVis": "{_\\mathrm{vis}}", "cSOS": "{_\\mathrm{start\\;of\\;step}}", "cConfig": "{_\\mathrm{config}}", "pLoc": "{\\mathbf{b}}", "pLocB": "{\\,^{b}{\\mathbf{v}}}", "pRef": "{\\mathbf{r}}", "pRefG": "{\\,^{0}{\\mathbf{r}}}", "indf": "{_\\mathrm{f}}", "indt": "{_\\mathrm{t}}", "indr": "{_\\mathrm{r}}", "indtt": "{_\\mathrm{tt}}", "indrr": "{_\\mathrm{rr}}", "indff": "{_\\mathrm{ff}}", "indtf": "{_\\mathrm{tf}}", "indrf": "{_\\mathrm{rf}}", "indtr": "{_\\mathrm{tr}}", "omegaBDtilde": "{\\LU{b}{\\tilde \\tomega_\\mathrm{bd}}}", "indrigid": "{_\\mathrm{rigid}}", "indred": "{_\\mathrm{red}}", "induser": "{_\\mathrm{user}}", "indu": "{_\\mathrm{u}}", "termA": ["{\\color{blue}{#1}}", 1], "termB": ["{\\color{red}{#1}}", 1], "termC": ["{\\color{green}{#1}}", 1], "avu": "{\\ddot \\mathbf{q}}", "GA": "{G\\alpha}", "aalg": "{\\mathbf{a}}", "vel": "{\\mathbf{v}}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Object (Object)" href="objectObjectIndex.html" />
    <link rel="prev" title="ObjectFFRF" href="ObjectFFRF.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Exudyn1.7.59.dev1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Exudyn User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Exudyn.html">Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../InstallationAndGettingStartedIndex.html">Installation and Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OverviewOnExudynIndex.html">Overview on Exudyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TutorialIndex.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GraphicsAndVisualizationIndex.html">Graphics and visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NotationIndex.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TheoryAndFormulationsIndex.html">Theory and formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SolversIndex.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cInterface/CInterfaceIndex.html">Python-C++ command interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pythonUtilities/index.html">Python Utility Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="itemsIndex.html">Items reference manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nodeIndex.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectBodyIndex.html">Object (Body)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="objectSuperElementIndex.html">Object (SuperElement)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ObjectGenericODE2.html">ObjectGenericODE2</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectKinematicTree.html">ObjectKinematicTree</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectFFRF.html">ObjectFFRF</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ObjectFFRFreducedOrder</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="objectObjectIndex.html">Object (Object)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectFiniteElementIndex.html">Object (FiniteElement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectConnectorIndex.html">Object (Connector)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectConstraintIndex.html">Object (Constraint)</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectJointIndex.html">Object (Joint)</a></li>
<li class="toctree-l2"><a class="reference internal" href="markerIndex.html">Marker</a></li>
<li class="toctree-l2"><a class="reference internal" href="loadIndex.html">Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensorIndex.html">Sensor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structures/StructuresAndSettingsIndex.html">Structures and Settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Abbreviations.html">List of Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExamplesIndex.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TestModelsIndex.html">TestModels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trackerlog.html">Issue tracker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Exudyn1.7.59.dev1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="itemsIndex.html">Items reference manual</a></li>
          <li class="breadcrumb-item"><a href="objectSuperElementIndex.html">Object (SuperElement)</a></li>
      <li class="breadcrumb-item active">ObjectFFRFreducedOrder</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/RST/items/ObjectFFRFreducedOrder.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="objectffrfreducedorder">
<span id="sec-item-objectffrfreducedorder"></span><h1>ObjectFFRFreducedOrder<a class="headerlink" href="#objectffrfreducedorder" title="Link to this heading"></a></h1>
<p>This object is used to represent modally reduced flexible bodies using the <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> and the <a class="reference internal" href="../Abbreviations.html#cms"><span class="std std-ref">CMS</span></a>. It can be used to model real-life mechanical systems imported from finite element codes or Python tools such as NETGEN/NGsolve, see the <code class="docutils literal notranslate"><span class="pre">FEMinterface</span></code> in Section <a class="reference internal" href="../pythonUtilities/FEM.html#sec-fem-feminterface-init"><span class="std std-ref">Class function: __init__</span></a>. It contains a RigidBodyNode (always node 0) and a NodeGenericODE2 representing the modal coordinates. Currently, equations must be defined within user functions, which are available in the FEM module, see class <code class="docutils literal notranslate"><span class="pre">ObjectFFRFreducedOrderInterface</span></code>, especially the user functions <code class="docutils literal notranslate"><span class="pre">UFmassFFRFreducedOrder</span></code> and <code class="docutils literal notranslate"><span class="pre">UFforceFFRFreducedOrder</span></code>, Section <a class="reference internal" href="../pythonUtilities/FEM.html#sec-fem-objectffrfreducedorderinterface-addobjectffrfreducedorderwithuserfunctions"><span class="std std-ref">Class function: AddObjectFFRFreducedOrderWithUserFunctions</span></a>.</p>
<p>Authors: Gerstmayr Johannes, Zwölfer Andreas</p>
<p><strong>Additional information for ObjectFFRFreducedOrder</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line">This <code class="docutils literal notranslate"><span class="pre">Object</span></code> has/provides the following types = <code class="docutils literal notranslate"><span class="pre">Body</span></code>, <code class="docutils literal notranslate"><span class="pre">MultiNoded</span></code>, <code class="docutils literal notranslate"><span class="pre">SuperElement</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line">Requested <code class="docutils literal notranslate"><span class="pre">Node</span></code> type: read detailed information of item</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python = <code class="docutils literal notranslate"><span class="pre">CMSobject</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>Short name</strong> for Python visualization object = <code class="docutils literal notranslate"><span class="pre">VCMSobject</span></code></div>
</div>
</li>
</ul>
<p>The item <strong>ObjectFFRFreducedOrder</strong> with type = ‘FFRFreducedOrder’ has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>name</strong> [type = String, default = ‘’]:</div>
<div class="line">objects’s unique name</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>nodeNumbers</strong> [<span class="math notranslate nohighlight">\(\mathbf{n} = [n_0,\,n_1]\tp\)</span>, type = ArrayNodeIndex, default = []]:</div>
<div class="line">node numbers of rigid body node and NodeGenericODE2 for modal coordinates; the global nodal position needs to be reconstructed from the rigid-body motion of the reference frame, the modal coordinates and the mode basis</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>massMatrixReduced</strong> [<span class="math notranslate nohighlight">\({\mathbf{M}}\indred \in \Rcal^{n_m \times n_m}\)</span>, type = PyMatrixContainer, default = PyMatrixContainer[]]:</div>
<div class="line">body-fixed and ONLY flexible coordinates part of reduced mass matrix; provided as MatrixContainer(sparse/dense matrix)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>stiffnessMatrixReduced</strong> [<span class="math notranslate nohighlight">\({\mathbf{K}}\indred \in \Rcal^{n_m \times n_m}\)</span>, type = PyMatrixContainer, default = PyMatrixContainer[]]:</div>
<div class="line">body-fixed and ONLY flexible coordinates part of reduced stiffness matrix; provided as MatrixContainer(sparse/dense matrix)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>dampingMatrixReduced</strong> [<span class="math notranslate nohighlight">\({\mathbf{D}}\indred \in \Rcal^{n_m \times n_m}\)</span>, type = PyMatrixContainer, default = PyMatrixContainer[]]:</div>
<div class="line">body-fixed and ONLY flexible coordinates part of reduced damping matrix; provided as MatrixContainer(sparse/dense matrix)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>forceUserFunction</strong> [<span class="math notranslate nohighlight">\({\mathbf{f}}\induser \in \Rcal^{n_{ODE2}}\)</span>, type = PyFunctionVectorMbsScalarIndex2Vector, default =  0]:</div>
<div class="line">A Python user function which computes the generalized user force vector for the <a class="reference internal" href="../Abbreviations.html#ode2"><span class="std std-ref">ODE2</span></a> equations; see description below</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>massMatrixUserFunction</strong> [<span class="math notranslate nohighlight">\({\mathbf{M}}\induser \in \Rcal^{n_{ODE2}\times n_{ODE2}}\)</span>, type = PyFunctionMatrixMbsScalarIndex2Vector, default =  0]:</div>
<div class="line">A Python user function which computes the TOTAL mass matrix (including reference node) and adds the local constant mass matrix; see description below</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>computeFFRFterms</strong> [type = Bool, default = True]:</div>
<div class="line">flag decides whether the standard <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a>/<a class="reference internal" href="../Abbreviations.html#cms"><span class="std std-ref">CMS</span></a> terms are computed; use this flag for user-defined definition of <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> terms in mass matrix and quadratic velocity vector</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>modeBasis</strong> [<span class="math notranslate nohighlight">\(\LU{b}{\tPsi} \in \Rcal^{n\indf \times n_{m}}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">mode basis, which transforms reduced coordinates to (full) nodal coordinates, written as a single vector <span class="math notranslate nohighlight">\([u_{x,n_0},\,u_{y,n_0},\,u_{z,n_0},\,\ldots,\,u_{x,n_n},\,u_{y,n_n},\,u_{z,n_n}]\tp\)</span></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>outputVariableModeBasis</strong> [<span class="math notranslate nohighlight">\(\LU{b}{\tPsi}_{OV} \in \Rcal^{n_n \times (n_{m}\cdot s_{OV})}\)</span>, type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">mode basis, which transforms reduced coordinates to output variables per mode and per node; <span class="math notranslate nohighlight">\(s_{OV}\)</span> is the size of the output variable, e.g., 6 for stress modes (<span class="math notranslate nohighlight">\(S_{xx},...,S_{xy}\)</span>)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>outputVariableTypeModeBasis</strong> [type = OutputVariableType, default = OutputVariableType::_None]:</div>
<div class="line">this must be the output variable type of the outputVariableModeBasis, e.g. exu.OutputVariableType.Stress</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>referencePositions</strong> [<span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{x}}}\cRef \in \Rcal^{n\indf}\)</span>, type = NumpyVector, default = []]:</div>
<div class="line">vector containing the reference positions of all flexible nodes, needed for graphics</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>objectIsInitialized</strong> [type = Bool, default = False]:</div>
<div class="line">ALWAYS set to False! flag used to correctly initialize all <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> matrices; as soon as this flag is False, some internal (constant) <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> matrices are recomputed during Assemble()</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsMass</strong> [<span class="math notranslate nohighlight">\(m\)</span>, type = UReal, default = 0.]:</div>
<div class="line">total mass [SI:kg] of FFRFreducedOrder object</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsInertia</strong> [<span class="math notranslate nohighlight">\({\mathbf{J}}_r \in \Rcal^{3 \times 3}\)</span>, type = Matrix3D, default = [[1,0,0], [0,1,0], [0,0,1]]]:</div>
<div class="line">inertia tensor [SI:kgm<span class="math notranslate nohighlight">\(^2\)</span>] of rigid body w.r.t. to the reference point of the body</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsCenterOfMass</strong> [<span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{b}}}_{COM}\)</span>, type = Vector3D, size = 3, default = [0.,0.,0.]]:</div>
<div class="line">local position of center of mass (<a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a>)</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mPsiTildePsi</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mPsiTildePsiTilde</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mPhitTPsi</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mPhitTPsiTilde</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mXRefTildePsi</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>mXRefTildePsiTilde</strong> [type = NumpyMatrix, default = Matrix[]]:</div>
<div class="line">special FFRFreducedOrder matrix, computed in ObjectFFRFreducedOrderInterface</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>physicsCenterOfMassTilde</strong> [<span class="math notranslate nohighlight">\(\LU{b}{\tilde {\mathbf{b}}}_{COM}\)</span>, type = Matrix3D, default = [[0,0,0], [0,0,0], [0,0,0]]]:</div>
<div class="line">tilde matrix from local position of <a class="reference internal" href="../Abbreviations.html#com"><span class="std std-ref">COM</span></a>; autocomputed during initialization</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>tempUserFunctionForce</strong> [<span class="math notranslate nohighlight">\({\mathbf{f}}_{temp} \in \Rcal^{n_{ODE2}}\)</span>, type = NumpyVector, default = []]:</div>
<div class="line">temporary vector for UF force</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>visualization</strong> [type = VObjectFFRFreducedOrder]:</div>
<div class="line">parameters for visualization of item</div>
</div>
</li>
</ul>
<p>The item VObjectFFRFreducedOrder has the following parameters:</p>
<ul>
<li><div class="line-block">
<div class="line"><strong>show</strong> [type = Bool, default = True]:</div>
<div class="line">set true, if item is shown in visualization and false if it is not shown; use visualizationSettings.bodies.deformationScaleFactor to draw scaled (local) deformations; the reference frame node is shown with additional letters RF</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>color</strong> [type = Float4, size = 4, default = [-1.,-1.,-1.,-1.]]:</div>
<div class="line">RGBA color for object; 4th value is alpha-transparency; R=-1.f means, that default color is used</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>triangleMesh</strong> [type = NumpyMatrixI, default = MatrixI[]]:</div>
<div class="line">a matrix, containg node number triples in every row, referring to the node numbers of the GenericODE2 object; the mesh uses the nodes to visualize the underlying object; contour plot colors are still computed in the local frame!</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><strong>showNodes</strong> [type = Bool, default = False]:</div>
<div class="line">set true, nodes are drawn uniquely via the mesh, eventually using the floating reference frame, even in the visualization of the node is show=False; node numbers are shown with indicator ‘NF’</div>
</div>
</li>
</ul>
<hr class="docutils" />
<section id="description-of-objectffrfreducedorder">
<span id="description-objectffrfreducedorder"></span><h2>DESCRIPTION of ObjectFFRFreducedOrder<a class="headerlink" href="#description-of-objectffrfreducedorder" title="Link to this heading"></a></h2>
<p><strong>The following output variables are available as OutputVariableType in sensors, Get…Output() and other functions</strong>:</p>
<ul>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Coordinates</span></code>:</div>
<div class="line">all <a class="reference internal" href="../Abbreviations.html#ode2"><span class="std std-ref">ODE2</span></a> coordinates</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Coordinates\_t</span></code>:</div>
<div class="line">all <a class="reference internal" href="../Abbreviations.html#ode2"><span class="std std-ref">ODE2</span></a> velocity coordinates</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Force</span></code>:</div>
<div class="line">generalized forces for all coordinates (residual of all forces except mass*accleration; corresponds to ComputeODE2LHS)</div>
</div>
</li>
</ul>
</section>
<section id="super-element-output-variables">
<span id="sec-objectffrfreducedorder-superelementoutput"></span><h2>Super element output variables<a class="headerlink" href="#super-element-output-variables" title="Link to this heading"></a></h2>
<p>Functions like <code class="docutils literal notranslate"><span class="pre">GetObjectOutputSuperElement(...)</span></code>, see Section <a class="reference internal" href="../cInterface/MainSystem.html#sec-mainsystem-object"><span class="std std-ref">MainSystem: Object</span></a>,
or <code class="docutils literal notranslate"><span class="pre">SensorSuperElement</span></code>, see Section <a class="reference internal" href="../cInterface/MainSystem.html#sec-mainsystem-sensor"><span class="std std-ref">MainSystem: Sensor</span></a>, directly access special output variables
(<code class="docutils literal notranslate"><span class="pre">OutputVariableType</span></code>) of the mesh nodes of the superelement.
Additionally, the contour drawing of the object can make use the <code class="docutils literal notranslate"><span class="pre">OutputVariableType</span></code> of the meshnodes.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text"></span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">super element output variables</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">symbol</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">DisplacementLocal (mesh node <span class="math notranslate nohighlight">\(i\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{u}}\indf^{(i)}} = \left( \LU{b}{\tPsi} \tzeta\right)_{3\cdot i \ldots 3\cdot i+2}= \vr{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+1}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+2}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">local nodal mesh displacement in reference (body) frame, measuring only flexible part of displacement</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">VelocityLocal (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{\dot {\mathbf{u}}_\mathrm{f}^{(i)}} = \left( \LU{b}{\tPsi} \dot \tzeta\right)_{3\cdot i \ldots 3\cdot i+2}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">local nodal mesh velocity in reference (body) frame, only for flexible part of displacement</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">Displacement (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{u}}\cConfig^{(i)}} = \LU{0}{{\mathbf{q}}_{\mathrm{t,config}}} + \LU{0b}{{\mathbf{A}}_\mathrm{config}} \LU{b}{{\mathbf{p}}_\mathrm{f,config}^{(i)}} - (\LU{0}{{\mathbf{q}}_{\mathrm{t,ref}}} + \LU{0b}{{\mathbf{A}}_{ref}} \LU{b}{{\mathbf{x}}\cRef^{(i)}})\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">nodal mesh displacement in global coordinates</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">Position (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{p}}^{(i)}} = \LU{0}{\pRef} + \LU{0b}{{\mathbf{A}}} \LU{b}{{\mathbf{p}}\indf^{(i)}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">nodal mesh position in global coordinates</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">Velocity (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\dot {\mathbf{u}}^{(i)}} = \LU{0}{\dot {\mathbf{q}}\indt} + \LU{0b}{{\mathbf{A}}} (\LU{b}{\dot {\mathbf{u}}\indf^{(i)}} + \LU{b}{\tilde \tomega} \LU{b}{{\mathbf{p}}\indf^{(i)}})\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">nodal mesh velocity in global coordinates</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">Acceleration (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{a}}^{(i)}} = \LU{0}{\ddot {\mathbf{q}}\indt} +
\LU{0b}{\Rot} \LU{b}{\ddot {\mathbf{u}}\indf^{(i)}} +
2\LU{0}{\tomega} \times \LU{0b}{\Rot} \LU{b}{\dot {\mathbf{u}}\indf^{(i)}} +
\LU{0}{\talpha} \times \LU{0}{{\mathbf{p}}\indf^{(i)}} +
\LU{0}{\tomega} \times (\LU{0}{\tomega} \times \LU{0}{{\mathbf{p}}\indf^{(i)}})\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">global acceleration of mesh
node <span class="math notranslate nohighlight">\(n_i\)</span> including rigid body motion and flexible deformation; note that <span class="math notranslate nohighlight">\(\LU{0}{{\mathbf{x}}}(n_i) = \LU{0b}{\Rot} \LU{b}{{\mathbf{x}}}(n_i)\)</span></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">StressLocal (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{\tsigma^{(i)}} = (\LU{b}{\tPsi_{OV}} \tzeta)_{3\cdot i \ldots 3\cdot i+5}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">linearized stress components of mesh node <span class="math notranslate nohighlight">\((i)\)</span> in reference frame; <span class="math notranslate nohighlight">\(\tsigma=[\sigma_{xx},\,\sigma_{yy},\,\sigma_{zz},\,\sigma_{yz},\,\sigma_{xz},\,\sigma_{xy}]\tp\)</span>; ONLY available, if <span class="math notranslate nohighlight">\(\LU{b}{\tPsi}_{OV}\)</span> is provided and <code class="docutils literal notranslate"><span class="pre">outputVariableTypeModeBasis==</span> <span class="pre">exu.OutputVariableType.StressLocal</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">StrainLocal (mesh node <span class="math notranslate nohighlight">\((i)\)</span>)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{\teps^{(i)}} = (\LU{b}{\tPsi}_{OV} \tzeta)_{3\cdot i \ldots 3\cdot i+5}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">linearized strain components of mesh node <span class="math notranslate nohighlight">\((i)\)</span> in reference frame; <span class="math notranslate nohighlight">\(\teps=[\varepsilon_{xx},\,\varepsilon_{yy},\,\varepsilon_{zz},\,\varepsilon_{yz},\,\varepsilon_{xz},\,\varepsilon_{xy}]\tp\)</span>; ONLY available, if <span class="math notranslate nohighlight">\(\LU{b}{\tPsi}_{OV}\)</span> is provided and <code class="docutils literal notranslate"><span class="pre">outputVariableTypeModeBasis==</span> <span class="pre">exu.OutputVariableType.StrainLocal</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text"></span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">intermediate variables</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">symbol</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">reference frame</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(b\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">the body-fixed / local frame is always denoted by <span class="math notranslate nohighlight">\(b\)</span></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">number of rigid body coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(n\indrigid\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">number of rigid body node coordinates: 6 in case of Euler angles (not fully available for ObjectFFRFreducedOrder) and 7 in case of Euler parameters</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">number of flexible / mesh coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(n\indf = 3 \cdot n_n\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">with number of nodes <span class="math notranslate nohighlight">\(n_n\)</span>; relevant for visualization</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">number of modal coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(n_m \ll n\indf\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">the number of reduced or modal coordinates, computed from number of columns given in <code class="docutils literal notranslate"><span class="pre">modeBasis</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">total number object coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(n_{ODE2} = n_m + n_{rigid}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">reference frame origin</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0}{\pRef} = \LU{0}{{\mathbf{q}}_{\mathrm{t}}} + \LU{0}{{\mathbf{q}}_{\mathrm{t,ref}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">reference frame position (origin)</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">reference frame rotation</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\ttheta\cConfig = \ttheta\cConfig + \ttheta_{ref}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">reference frame rotation parameters in any configuration except reference</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">reference frame orientation</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0b}{\Rot}\cConfig = \LU{0b}{\Rot}\cConfig(\ttheta\cConfig)\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">transformation matrix for transformation of local (reference frame) to global coordinates, given by underlying rigid body node <span class="math notranslate nohighlight">\(n_0\)</span></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">local vector of flexible coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{q}}\indf} = \LU{b}{\tPsi} \tzeta\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">represents mesh displacements; vector of alternating x,y, an z coordinates of local (in body frame) mesh displacements reconstructed from modal coordinates <span class="math notranslate nohighlight">\(\tzeta\)</span>; only evaluated for selected node points (e.g., sensors) during computation; corresponds to same vector in <code class="docutils literal notranslate"><span class="pre">ObjectFFRF</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">local nodal positions</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{p}}\indf} = \LU{b}{{\mathbf{q}}\indf} + \LU{b}{{\mathbf{x}}\cRef}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">vector of all body-fixed nodal positions including flexible part; only evaluated for selected node points during computation</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">local position of node (i)</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{p}}\indf^{(i)}} = \LU{b}{{\mathbf{u}}\indf^{(i)}} + \LU{b}{{\mathbf{x}}^{(i)}\cRef} = \vr{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+1}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+2}}} + \vr{\LU{b}{{\mathbf{x}}_{\mathrm{ref},i\cdot 3}}}{\LU{b}{{\mathbf{x}}_{\mathrm{ref},i\cdot 3+1}}}{\LU{b}{{\mathbf{x}}_{\mathrm{ref},i\cdot 3+2}}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">body-fixed, deformed nodal mesh position (including flexible part)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">vector of modal coordinates</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\tzeta = [\zeta_0,\,\ldots,\zeta_{n_m-1}]\tp\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">vector of modal or reduced coordinates; these coordinates can either represent amplitudes of eigenmodes, static modes or general modes, depending on your mode basis</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">coordinate vector</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\({\mathbf{q}} = [\LU{0}{{\mathbf{q}}\indt},\,\tpsi,\,\tzeta]\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">vector of object coordinates; <span class="math notranslate nohighlight">\({\mathbf{q}}\indt\)</span> and <span class="math notranslate nohighlight">\(\tpsi\)</span> are the translation and rotation part of displacements of the reference frame, provided by the rigid body node (node number 0)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">flexible coordinates transformation matrix</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\LU{0b}{{\mathbf{A}}_{bd}} = \mathrm{diag}([\LU{0b}{{\mathbf{A}}},\;\ldots,\;\LU{0b}{{\mathbf{A}}}])\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">block diagonal transformation matrix, which transforms all flexible coordinates from local to global coordinates</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="modal-reduction-and-reduced-inertia-matrices">
<h2>Modal reduction and reduced inertia matrices<a class="headerlink" href="#modal-reduction-and-reduced-inertia-matrices" title="Link to this heading"></a></h2>
<p>The formulation is based on the EOM of <code class="docutils literal notranslate"><span class="pre">ObjectFFRF</span></code>, <strong>also regarding parts of notation</strong>and some input parameters, Section <a class="reference internal" href="ObjectFFRF.html#sec-item-objectffrf"><span class="std std-ref">ObjectFFRF</span></a>, and
can be found in Zwölfer and Gerstmayr  with only small modifications in the notation.
The notation of kinematics quantities follows the floating frame of reference idea with
quantities given in the tables above and sketched in <a class="reference internal" href="#fig-objectffrfreducedorder-mesh"><span class="std std-numref">Fig. 11</span></a>.</p>
<figure class="align-default" id="id3">
<span id="fig-objectffrfreducedorder-mesh"></span><a class="reference internal image-reference" href="../../../_images/ObjectFFRFsketch.png"><img alt="../../../_images/ObjectFFRFsketch.png" src="../../../_images/ObjectFFRFsketch.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Floating frame of reference with exemplary position of a mesh node <em>i</em></span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The reduced order <a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> formulation is based on an approximation of flexible coordinates <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{q}}\indf}\)</span>by means of a reduction or mode basis <span class="math notranslate nohighlight">\(\LU{b}{\tPsi}\)</span> (<code class="docutils literal notranslate"><span class="pre">modeBasis</span></code>) and the the modal coordinates <span class="math notranslate nohighlight">\(\tzeta\)</span>,</p>
<div class="math notranslate nohighlight">
\[\LU{b}{{\mathbf{q}}\indf} \approx \LU{b}{\tPsi} \tzeta\]</div>
<p>The mode basis <span class="math notranslate nohighlight">\(\LU{b}{\tPsi}\)</span> contains so-called mode shape vectors in its columns, which may be computed from eigen analysis, static computation or more advanced techniques,
see the helper functions in module <code class="docutils literal notranslate"><span class="pre">exudyn.FEM</span></code>, within the class textFEMinterface.
To compute eigen modes, use <code class="docutils literal notranslate"><span class="pre">FEMinterface.ComputeEigenmodes(...)</span></code> or
<code class="docutils literal notranslate"><span class="pre">FEMinterface.ComputeHurtyCraigBamptonModes(...)</span></code>. For details on model order reduction and component mode synthesis, see Section <a class="reference internal" href="../../../index.html#sec-theory-cms"><span class="std std-ref">Theory: Component Mode Synthesis</span></a>.
In many applications, <span class="math notranslate nohighlight">\(n_m\)</span> typically ranges between 10 and 50, but also beyond – depending on the desired accuracy of the model.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ObjectFFRF</span></code> coordinates and Eqs. <a class="reference internal" href="ObjectFFRF.html#equation-eq-objectffrf-eom">(31)</a>(this is not done for user functions and <code class="docutils literal notranslate"><span class="pre">forceVector</span></code>) can be reduced by the matrix <span class="math notranslate nohighlight">\({\mathbf{H}} \in \Rcal^{(n\indf+n\indrigid) \times n_{ODE2}}\)</span>,</p>
<div class="math notranslate nohighlight">
\[{\mathbf{q}}_{FFRF} = \vr{{\mathbf{q}}\indt}{\ttheta}{\LU{b}{{\mathbf{q}}\indf}} = \mr{\mathbf{I}_{3 \times 3}}{\Null}{\Null} {\Null}{{\mathbf{I}}\indr}{\Null} {\Null}{\Null}{\LU{b}{\tPsi}} \vr{{\mathbf{q}}\indt}{\ttheta}{\tzeta} = {\mathbf{H}} \, {\mathbf{q}}\]</div>
<p>with the <span class="math notranslate nohighlight">\(4\times 4\)</span> identity matrix <span class="math notranslate nohighlight">\({\mathbf{I}}\indr\)</span> in case of Euler parameters and the reduced coordinates <span class="math notranslate nohighlight">\({\mathbf{q}}\)</span>.</p>
<p>The reduced equations follow from the reduction of system matrices in Eqs. <a class="reference internal" href="ObjectFFRF.html#equation-eq-objectffrf-eom">(31)</a>,</p>
<div class="math notranslate nohighlight">
\[\begin{split}{\mathbf{K}}\indred &amp;=&amp; \LU{b}{\tPsi}\tp \LU{b}{{\mathbf{K}}} \LU{b}{\tPsi} , \\
{\mathbf{M}}\indred &amp;=&amp; \LU{b}{\tPsi}\tp \LU{b}{{\mathbf{M}}} \LU{b}{\tPsi} , \\\end{split}\]</div>
<p>the computation of rigid body inertia</p>
<div class="math notranslate nohighlight">
\[\begin{split}\LU{b}{\tTheta}\indu &amp;=&amp; \LUX{b}{\tilde {\mathbf{x}}}{\cRef\tp} \LU{b}{{\mathbf{M}}} \LU{b}{\tilde {\mathbf{x}}\cRef}\\\end{split}\]</div>
<p>the center of mass (and according tilde matrix), using <span class="math notranslate nohighlight">\(\tPhi\indt\)</span> from Eq. <a class="reference internal" href="ObjectFFRF.html#equation-eq-objectffrf-phit">(28)</a>,</p>
<div class="math notranslate nohighlight">
\[\begin{split}\LU{b}{\tchi}\indu &amp;=&amp; \frac{1}{m} \tPhi\tp\indt \LU{b}{{\mathbf{M}}} \LU{b}{{\mathbf{x}}\cRef}\\
\LU{b}{\tilde \tchi\indu} &amp;=&amp; \frac{1}{m} \tPhi\tp\indt \LU{b}{{\mathbf{M}}} \LU{b}{\tilde {\mathbf{x}}\cRef}\\\end{split}\]</div>
<p>and seven inertia-like matrices ,</p>
<div class="math notranslate nohighlight">
\[{\mathbf{M}}_{AB} = {\mathbf{A}}\tp \LU{b}{{\mathbf{M}}} {\mathbf{B}}, \quad \mathrm{using} \quad {\mathbf{A}}{\mathbf{B}} \in \left[\tPsi\tPsi ,\; \widetilde{\tPsi}\tPsi,\; \widetilde{\tPsi}\widetilde{\tPsi},\; \tPhi\indt\tPsi,\; \tPhi\indt\widetilde{\tPsi},\; \tilde{\mathbf{x}}\cRef\tPsi,\; \tilde{\mathbf{x}}\cRef\widetilde{\tPsi}\right]\]</div>
<p>Note that the special tilde operator for vectors <span class="math notranslate nohighlight">\({\mathbf{p}} \in \Rcal^{n_f}\)</span> of Eq. <a class="reference internal" href="ObjectFFRF.html#equation-eq-objectffrf-specialtilde">(29)</a> is frequently used.</p>
</section>
<section id="equations-of-motion">
<h2>Equations of motion<a class="headerlink" href="#equations-of-motion" title="Link to this heading"></a></h2>
<p>Equations of motion, in case that <code class="docutils literal notranslate"><span class="pre">computeFFRFterms</span> <span class="pre">=</span> <span class="pre">True</span></code>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\left({\mathbf{M}}_{user}(mbs, t,{\mathbf{q}},\dot {\mathbf{q}}) + \mr{{\mathbf{M}}\indtt}{{\mathbf{M}}\indtr}{{\mathbf{M}}\indtf} {}{{\mathbf{M}}\indrr}{{\mathbf{M}}\indrf} {\mathrm{sym.}}{}{{\mathbf{M}}\indff} \right) \ddot {\mathbf{q}} + \mr{0}{0}{0} {0}{0}{0} {0}{0}{{\mathbf{D}}\indff} \dot {\mathbf{q}} + \mr{0}{0}{0} {0}{0}{0} {0}{0}{{\mathbf{K}}\indff} {\mathbf{q}} = &amp;&amp;\\
\nonumber {\mathbf{f}}_v({\mathbf{q}},\dot {\mathbf{q}}) + {\mathbf{f}}_{user}(mbs, t,{\mathbf{q}},\dot {\mathbf{q}}) &amp;&amp;\end{split}\]</div>
<p>(NOTE that currently the internal (C++) computed terms are zero,</p>
<div class="math notranslate nohighlight">
\[\mr{{\mathbf{M}}\indtt}{{\mathbf{M}}\indtr}{{\mathbf{M}}\indtf} {}{{\mathbf{M}}\indrr}{{\mathbf{M}}\indrf} {\mathrm{sym.}}{}{{\mathbf{M}}\indff} = \Null \quad \mathrm{and} \quad {\mathbf{f}}_v({\mathbf{q}},\dot {\mathbf{q}}) = \Null ,\]</div>
<p>but they are implemented in predefined user functions, see <code class="docutils literal notranslate"><span class="pre">FEM.py</span></code>, Section <a class="reference internal" href="../pythonUtilities/FEM.html#sec-fem-objectffrfreducedorderinterface-addobjectffrfreducedorderwithuserfunctions"><span class="std std-ref">Class function: AddObjectFFRFreducedOrderWithUserFunctions</span></a>. In near future, these terms will be implemented in C++ and replace the user functions.)
Note that in case of Euler parameters for the parameterization of rotations for the reference frame, the Euler parameter constraint equation is added automatically by this object.
The single terms of the mass matrix are defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}{\mathbf{M}}\indtt &amp;=&amp; m \mathbf{I}_{3 \times 3} \\
{\mathbf{M}}\indtr &amp;=&amp; -\LU{0b}{\Rot} \left[ m \LU{b}{\tilde \tchi\indu} + {\mathbf{M}}_{\Phi\indt\!{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right)  \right] \LU{b}{{\mathbf{G}}}\\
{\mathbf{M}}\indtf &amp;=&amp; \LU{0b}{\Rot} {\mathbf{M}}_{\Phi\indt\!\Psi} \\
{\mathbf{M}}\indrr &amp;=&amp; \LU{b}{{\mathbf{G}}\tp} \left[\LU{b}{\tTheta}\indu + {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right) + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}}\tp + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{{\widetilde\Psi}{\widetilde\Psi}}\left( \tzeta \otimes {\mathbf{I}} \right) \right] \LU{b}{{\mathbf{G}}}\\
{\mathbf{M}}\indrf &amp;=&amp; -\LU{b}{{\mathbf{G}}\tp} \left[ {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef\Psi} + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{{\widetilde\Psi}\Psi}  \right] \\
{\mathbf{M}}\indff &amp;=&amp; {\mathbf{M}}_{\Psi\Psi}\end{split}\]</div>
<p>with the Kronecker product(In Python numpy module this is computed by <code class="docutils literal notranslate"><span class="pre">numpy.kron(zeta,</span> <span class="pre">Im).T</span></code>),</p>
<div class="math notranslate nohighlight">
\[\tzeta \otimes {\mathbf{I}} = \vr{\zeta_0 {\mathbf{I}}}{\vdots}{\zeta_{m-1} {\mathbf{I}}}\]</div>
<p>The quadratic velocity vector <span class="math notranslate nohighlight">\({\mathbf{f}}_v({\mathbf{q}},\dot {\mathbf{q}}) = \left[ {\mathbf{f}}_{v\mathrm{t}}\tp,\; {\mathbf{f}}_{v\mathrm{r}}\tp,\; {\mathbf{f}}_{v\mathrm{f}}\tp \right]\tp\)</span> reads</p>
<div class="math notranslate nohighlight">
\[\begin{split}{\mathbf{f}}_{v\mathrm{t}} &amp;=&amp; \LU{0b}{\Rot} \LU{b}{\tilde \tomega}\left[ m \LU{b}{\tilde \tchi\indu} + {\mathbf{M}}_{\Phi\indt\!{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right)  \right] \LU{b}{\tomega} + 2 \LU{0b}{\Rot} {\mathbf{M}}_{\Phi\indt\!{\widetilde\Psi}} \left( \dot \tzeta \otimes {\mathbf{I}} \right)  \LU{b}{\tomega} \nonumber \\
&amp;&amp; + \LU{0b}{\Rot} \left[ m \LU{b}{\tilde \tchi\indu} + {\mathbf{M}}_{\Phi\indt\!{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right)  \right] \LU{b}{\dot {\mathbf{G}}} \dot \ttheta , \\
{\mathbf{f}}_{v\mathrm{r}} &amp;=&amp; -\LU{b}{{\mathbf{G}}\tp} \LU{b}{\tilde \tomega} \left[\LU{b}{\tTheta}\indu + {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right) + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}}\tp + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{{\widetilde\Psi}{\widetilde\Psi}}\left( \tzeta \otimes {\mathbf{I}} \right) \right]\LU{b}{\tomega} \nonumber \\
&amp;&amp; -2 \LU{b}{{\mathbf{G}}\tp} \left[ {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}} \left( \dot \tzeta \otimes {\mathbf{I}} \right) + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{{\widetilde\Psi}{\widetilde\Psi}}\left( \dot \tzeta \otimes {\mathbf{I}} \right) \right] \LU{b}{\tomega} \nonumber \\
&amp;&amp; -\LU{b}{{\mathbf{G}}\tp}\left[\LU{b}{\tTheta}\indu + {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}} \left( \tzeta \otimes {\mathbf{I}} \right) + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{\tilde {\mathbf{x}}\cRef{\widetilde\Psi}}\tp + \left( \tzeta \otimes {\mathbf{I}} \right)\tp {\mathbf{M}}_{{\widetilde\Psi}{\widetilde\Psi}}\left( \tzeta \otimes {\mathbf{I}} \right) \right] \LU{b}{\dot {\mathbf{G}}} \dot \ttheta , \\
{\mathbf{f}}_{v\mathrm{f}} &amp;=&amp; \left( {\mathbf{I}}_\zeta \otimes \LU{b}{\tomega} \right)\tp \left[ {\mathbf{M}}_{\tilde{\mathbf{x}}\cRef{\widetilde\Psi}}\tp + {\mathbf{M}}_{{\widetilde\Psi}{\widetilde\Psi}}\left( \tzeta \otimes {\mathbf{I}} \right) \right] \LU{b}{\tomega} +2 {\mathbf{M}}_{{\widetilde\Psi}{\Psi}}\tp\left( \dot\tzeta \otimes {\mathbf{I}} \right) \LU{b}{\tomega} \nonumber \\
&amp;&amp; + \left[ {\mathbf{M}}_{\tilde{\mathbf{x}}\cRef{\Psi}}\tp + {\mathbf{M}}_{{\widetilde\Psi}{\Psi}}\tp\left( \tzeta \otimes {\mathbf{I}} \right) \right] \LU{b}{\dot {\mathbf{G}}} \dot \ttheta .\end{split}\]</div>
<p>Note that terms including <span class="math notranslate nohighlight">\(\LU{b}{\dot {\mathbf{G}}} \dot \ttheta\)</span> vanish in case of Euler parameters or in case that <span class="math notranslate nohighlight">\(\LU{b}{\dot {\mathbf{G}}} = \Null\)</span>,
and we use another Kronecker product with the unit matrix <span class="math notranslate nohighlight">\({\mathbf{I}}_\zeta \in \Rcal^{n_m \times n_m}\)</span>,</p>
<div class="math notranslate nohighlight">
\[{\mathbf{I}}_\zeta \otimes \LU{b}{\tomega} = \mr{\LU{b}{\tomega}}{}{} {}{\ddots}{} {}{}{\LU{b}{\tomega}} \in \Rcal^{3n_m \times n_m}\]</div>
<p>In case that <code class="docutils literal notranslate"><span class="pre">computeFFRFterms</span> <span class="pre">=</span> <span class="pre">False</span></code>, the mass terms <span class="math notranslate nohighlight">\({\mathbf{M}}\indtt \ldots {\mathbf{M}}\indff\)</span> are zero (not computed) and
the quadratic velocity vector <span class="math notranslate nohighlight">\({\mathbf{f}}_Q = \Null\)</span>.
Note that the user functions <span class="math notranslate nohighlight">\({\mathbf{f}}_{user}(mbs, t,{\mathbf{q}},\dot {\mathbf{q}})\)</span> and
<span class="math notranslate nohighlight">\({\mathbf{M}}_{user}(mbs, t,{\mathbf{q}},\dot {\mathbf{q}})\)</span> may be empty (=0).
The detailed equations of motion for this element can be found in .</p>
</section>
<section id="position-jacobian">
<h2>Position Jacobian<a class="headerlink" href="#position-jacobian" title="Link to this heading"></a></h2>
<p>For joints and loads, the position jacobian of a node is needed in order to compute forces applied to averaged displacements and
rotations at nodes.
Recall that the modal coordinates <span class="math notranslate nohighlight">\(\tzeta\)</span> are transformed to node coordinates by means of the mode basis  <span class="math notranslate nohighlight">\(\LU{b}{\tPsi}\)</span>,</p>
<div class="math notranslate nohighlight">
\[\LU{b}{{\mathbf{q}}\indf} = \LU{b}{\tPsi} \tzeta .\]</div>
<p>The local displacements <span class="math notranslate nohighlight">\(\LU{b}{{\mathbf{u}}\indf^{(i)}}\)</span> of a specific node <span class="math notranslate nohighlight">\(i\)</span> can be reconstructed in this way by means of</p>
<div class="math notranslate nohighlight">
\[\LU{b}{{\mathbf{u}}\indf^{(i)}} = \vr{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+1}}}{\LU{b}{{\mathbf{q}}_{\mathrm{f},i\cdot 3+2}}} ,\]</div>
<p>and the global position of a node, see tables above, reads</p>
<div class="math notranslate nohighlight">
\[\LU{0}{{\mathbf{p}}^{(i)}} = \LU{0}{{\mathbf{p}}\indt} + \LU{0b}{{\mathbf{A}}} \left( \LU{b}{{\mathbf{u}}\indf^{(i)}} + \LU{b}{{\mathbf{x}}^{(i)}\cRef} \right)\]</div>
<p>Thus, the jacobian of the global position reads</p>
<div class="math notranslate nohighlight">
\[\LU{0}{{\mathbf{J}}_\mathrm{pos}^{(i)}} = \frac{\partial \LU{0}{{\mathbf{p}}^{(i)}}}{\partial [{\mathbf{q}}\indt, \;\ttheta, \;\tzeta]} = \left[\mathbf{I}_{3 \times 3}, \; -\LU{0b}{\Rot} \left(\LU{b}{\tilde{\mathbf{u}}\indf^{(i)}} + \LU{b}{\tilde{\mathbf{x}}^{(i)}\cRef} \right) \LU{b}{{\mathbf{G}}},\; \LU{0b}{\Rot} \vr{\LU{b}{\tPsi_{r=3i}\tp}}{\LU{b}{\tPsi_{r=3i+1}\tp}}{\LU{b}{\tPsi_{r=3i+2}\tp}}\right] ,\]</div>
<p>in which <span class="math notranslate nohighlight">\(\LU{b}{\tPsi_{r=...}}\)</span> represents the row <span class="math notranslate nohighlight">\(r\)</span> of the mode basis (matrix) <span class="math notranslate nohighlight">\(\LU{b}{\Psi}\)</span>, and
the matrix</p>
<div class="math notranslate nohighlight">
\[\vr{\LU{b}{\tPsi_{r=3i}\tp}}{\LU{b}{\tPsi_{r=3i+1}\tp}}{\LU{b}{\tPsi_{r=3i+2}\tp}} \in \Rcal^{3 \times n_m}\]</div>
<p>Furthermore, the jacobian of the local position reads</p>
<div class="math notranslate nohighlight">
\[\LU{b}{{\mathbf{J}}_\mathrm{pos}^{(i)}} = \frac{\partial \LU{b}{{\mathbf{p}}\indf^{(i)}}}{\partial [{\mathbf{q}}\indt, \;\ttheta, \;\tzeta]} = \left[\Null, \; \Null, \; \vr{\LU{b}{\tPsi_{r=3i}\tp}}{\LU{b}{\tPsi_{r=3i+1}\tp}}{\LU{b}{\tPsi_{r=3i+2}\tp}}\right] ,\]</div>
<p>which is used in <code class="docutils literal notranslate"><span class="pre">MarkerSuperElementRigid</span></code>.</p>
</section>
<section id="joints-and-loads">
<h2>Joints and Loads<a class="headerlink" href="#joints-and-loads" title="Link to this heading"></a></h2>
<p>Use special <code class="docutils literal notranslate"><span class="pre">MarkerSuperElementPosition</span></code> to apply forces, SpringDampers or spherical joints. This marker can be attached to a single node of the underlying
mesh or to a set of nodes, which is then averaged, see the according marker description.</p>
<p>Use special <code class="docutils literal notranslate"><span class="pre">MarkerSuperElementRigid</span></code> to apply torques or special joints (e.g., <code class="docutils literal notranslate"><span class="pre">JointGeneric</span></code>).
This marker must be attached to a set of nodes which can represent rigid body motion. The rigid body motion is then averaged for all of these nodes,
see the according marker description.</p>
<p>For application of mass proportional loads (gravity), you can use conventional MarkerBodyMass.
However, <strong>do not use</strong> <code class="docutils literal notranslate"><span class="pre">MarkerBodyPosition</span></code> or <code class="docutils literal notranslate"><span class="pre">MarkerBodyRigid</span></code> for ObjectFFRFreducedOrder, unless wanted, because it only attaches to the floating
frame. This means, that a force to a <code class="docutils literal notranslate"><span class="pre">MarkerBodyPosition</span></code> would only be applied to the (rigid) floating frame, but not onto the deformable body and
results depend strongly on the choice of the reference frame (or the underlying mode shapes).</p>
<p>CoordinateLoads are added for each <a class="reference internal" href="../Abbreviations.html#ode2"><span class="std std-ref">ODE2</span></a> coordinate on the RHS of the equations of motion.</p>
<hr class="docutils" />
<p><strong>Userfunction</strong>: <code class="docutils literal notranslate"><span class="pre">forceUserFunction(mbs,</span> <span class="pre">t,</span> <span class="pre">itemNumber,</span> <span class="pre">q,</span> <span class="pre">q_t)</span></code></p>
<p>A user function, which computes a force vector depending on current time and states of object. Can be used to create any kind of mechanical system by using the object states.
Note that itemNumber represents the index of the ObjectFFRFreducedOrder object in mbs, which can be used to retrieve additional data from the object through
<code class="docutils literal notranslate"><span class="pre">mbs.GetObjectParameter(itemNumber,</span> <span class="pre">...)</span></code>, see the according description of <code class="docutils literal notranslate"><span class="pre">GetObjectParameter</span></code>.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text"></span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">arguments /  return</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">type or size</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mbs</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">MainSystem</div>
</div>
</td>
<td><div class="line-block">
<div class="line">provides MainSystem mbs to which object belongs</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Real</div>
</div>
</td>
<td><div class="line-block">
<div class="line">current time in mbs</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemNumber</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Index</div>
</div>
</td>
<td><div class="line-block">
<div class="line">integer number of the object in mbs, allowing easy access to all object data via mbs.GetObjectParameter(itemNumber, …)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^n_{ODE2}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> object coordinates (rigid body coordinates and reduced coordinates in a list) in current configuration, without reference values</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q_t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^n_{ODE2}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">object velocity coordinates (time derivatives of <code class="docutils literal notranslate"><span class="pre">q</span></code>) in current configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">returnValue</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^{n_{ODE2}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">returns force vector for object</div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p><strong>Userfunction</strong>: <code class="docutils literal notranslate"><span class="pre">massMatrixUserFunction(mbs,</span> <span class="pre">t,</span> <span class="pre">itemNumber,</span> <span class="pre">q,</span> <span class="pre">q_t)</span></code></p>
<p>A user function, which computes a mass matrix depending on current time and states of object. Can be used to create any kind of mechanical system by using the object states.</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text"></span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">arguments /  return</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">type or size</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">description</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mbs</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">MainSystem</div>
</div>
</td>
<td><div class="line-block">
<div class="line">provides MainSystem mbs to which object belongs</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Real</div>
</div>
</td>
<td><div class="line-block">
<div class="line">current time in mbs</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">itemNumber</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Index</div>
</div>
</td>
<td><div class="line-block">
<div class="line">integer number of the object in mbs, allowing easy access to all object data via mbs.GetObjectParameter(itemNumber, …)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^n_{ODE2}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../Abbreviations.html#ffrf"><span class="std std-ref">FFRF</span></a> object coordinates (rigid body coordinates and reduced coordinates in a list) in current configuration, without reference values</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">q_t</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Vector <span class="math notranslate nohighlight">\(\in \Rcal^n_{ODE2}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">object velocity coordinates (time derivatives of <code class="docutils literal notranslate"><span class="pre">q</span></code>) in current configuration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">returnValue</div>
</div>
</td>
<td><div class="line-block">
<div class="line">NumpyMatrix <span class="math notranslate nohighlight">\(\in \Rcal^{n_{ODE2} \times n_{ODE2}}\)</span></div>
</div>
</td>
<td><div class="line-block">
<div class="line">returns mass matrix for object</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Relevant Examples and TestModels with weblink:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py">NGsolvePistonEngine.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/objectFFRFreducedOrderNetgen.py">objectFFRFreducedOrderNetgen.py</a> (Examples/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/NGsolveCrankShaftTest.py">NGsolveCrankShaftTest.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderAccelerations.py">objectFFRFreducedOrderAccelerations.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderShowModes.py">objectFFRFreducedOrderShowModes.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderStressModesTest.py">objectFFRFreducedOrderStressModesTest.py</a> (TestModels/), <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/superElementRigidJointTest.py">superElementRigidJointTest.py</a> (TestModels/)</p>
</div></blockquote>
<p><strong>The web version may not be complete. For details, consider also the Exudyn PDF documentation</strong> : <a class="reference external" href="https://github.com/jgerstmayr/EXUDYN/blob/master/docs/theDoc/theDoc.pdf">theDoc.pdf</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ObjectFFRF.html" class="btn btn-neutral float-left" title="ObjectFFRF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="objectObjectIndex.html" class="btn btn-neutral float-right" title="Object (Object)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>